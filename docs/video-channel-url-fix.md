# 视频号小店自动化系统说明

## 重要信息

### 正确的网址
- **带货助手页面**: `https://store.weixin.qq.com/talent/` （这是主页面）
- **视频号助手页面**: `https://channels.weixin.qq.com/assistant` （独立页面）
- **关系**: 带货助手和视频号助手是联动的，可以互相访问

### 页面结构说明
1. **带货助手** (`https://store.weixin.qq.com/talent/`)
   - 用于管理商品、订单、带货数据等
   - 在此页面可以跳转到视频号助手

2. **视频号助手** (`https://channels.weixin.qq.com/assistant`)
   - 用于管理视频号内容、直播、数据等
   - 与带货助手联动，共享登录状态

## 功能说明

### 1. 二维码获取
- 访问带货助手页面 `https://store.weixin.qq.com/talent/`
- 识别页面中的二维码元素
- 截取二维码并保存

### 2. 登录检测
- 使用保存的Cookie访问带货助手页面
- 检查页面是否有登录后的元素（如用户头像、店铺名称等）
- 判断用户是否已登录

### 3. Cookie提取
- 提取所有Cookie（不过滤，保留完整权限信息）
- 保存到文件和数据库
- Cookie包含domain、path、expires等完整属性

### 4. 页面可访问性检测
由于带货助手和视频号助手有独立的页面，检测逻辑为：

**带货助手检测**：
1. 访问 `https://store.weixin.qq.com/talent/`
2. 检查页面是否成功加载（HTTP状态码200）
3. 检查页面是否有登录按钮（未登录状态）
4. 检查页面是否有用户信息（已登录状态）

**视频号助手检测**：
1. 访问 `https://channels.weixin.qq.com/assistant`
2. 检查页面是否成功加载（HTTP状态码200）
3. 检查页面是否有登录按钮（未登录状态）
4. 检查页面是否有用户信息（已登录状态）

### 5. 人工审核
- 使用Cookie分别访问带货助手和视频号助手页面
- 截取两个页面的截图
- 验证Cookie权限
- 判断是否能正常访问带货助手和视频号助手

## 注意事项

1. **登录状态同步**: 由于两个页面是联动的，登录其中一个页面，另一个页面也会自动登录
2. **页面元素选择器**: 需要根据实际的页面DOM结构调整元素选择器
3. **权限验证**: 需要检查页面中是否有相应的功能入口来判断权限
4. **Cookie共享**: 两个页面共享相同的Cookie，可以相互访问

## 待优化项

1. 根据实际的页面DOM结构，精确识别两个页面的元素
2. 分别截取带货助手和视频号助手的不同功能区域
3. 根据页面元素判断具体的权限范围（如商品管理、订单管理、直播管理等）
