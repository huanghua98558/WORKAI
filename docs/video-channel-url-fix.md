# 视频号小店自动化系统说明

## 重要信息

### 正确的网址
- **视频号小店主页**: `https://store.weixin.qq.com/talent/`
- **带货助手**: 与视频号助手在同一页面内联动
- **视频号助手**: 与带货助手在同一页面内联动

### 页面结构说明
视频号小店平台（`https://store.weixin.qq.com/talent/`）是一个综合页面，包含了：
1. 带货助手
2. 视频号助手

这两个助手在同一页面内，通过页面导航或菜单进行切换，**不是独立的URL**。

## 功能说明

### 1. 二维码获取
- 访问主页面 `https://store.weixin.qq.com/talent/`
- 识别页面中的二维码元素
- 截取二维码并保存

### 2. 登录检测
- 使用保存的Cookie访问主页面
- 检查页面是否有登录后的元素（如用户头像、店铺名称等）
- 判断用户是否已登录

### 3. Cookie提取
- 提取所有Cookie（不过滤，保留完整权限信息）
- 保存到文件和数据库
- Cookie包含domain、path、expires等完整属性

### 4. 页面可访问性检测
由于带货助手和视频号助手在同一页面，检测逻辑为：
1. 访问主页面 `https://store.weixin.qq.com/talent/`
2. 检查页面是否成功加载（HTTP状态码200）
3. 检查页面是否有登录按钮（未登录状态）
4. 检查页面是否有用户信息（已登录状态）
5. 根据页面元素判断是否可访问带货助手和视频号助手

### 5. 人工审核
- 使用Cookie访问页面
- 截取页面截图
- 验证Cookie权限
- 判断是否能正常访问带货助手和视频号助手

## 注意事项

1. **页面元素选择器**：由于带货助手和视频号助手在同一页面，需要根据实际的页面DOM结构调整元素选择器
2. **导航切换**：可能需要模拟点击页面内的导航菜单来切换不同的助手功能
3. **权限验证**：需要检查页面中是否有相应的功能入口来判断权限

## 待优化项

1. 根据实际的页面DOM结构，精确识别带货助手和视频号助手的不同区域
2. 实现页面内导航的自动切换，分别截取不同助手的页面
3. 根据页面元素判断具体的权限范围（如是否能访问商品管理、订单管理等）
