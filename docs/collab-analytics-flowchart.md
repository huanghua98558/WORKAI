# ååŒåˆ†ææ¨¡å— - æ•°æ®æµä¸æ¿å—å…³ç³»å›¾

## ğŸ“Š æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         æœºå™¨äººç®¡ç†ç³»ç»Ÿ                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœºå™¨äººç®¡ç†   â”‚    â”‚ ä¸šåŠ¡è§’è‰²ç®¡ç†  â”‚    â”‚ å·¥ä½œäººå‘˜ç®¡ç†  â”‚    â”‚  æŒ‡ä»¤å‘é€    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                    â”‚                    â”‚
       â”‚ robot_id           â”‚ business_role      â”‚ staff_user_id      â”‚ commandId
       â†“                    â†“                    â†“                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ååŒåˆ†ææ¨¡å—                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ decision_logs    â”‚  â”‚ staff_activities  â”‚  â”‚ tasks (æ–°å»º)     â”‚    â”‚
â”‚  â”‚ - business_role  â”‚  â”‚ - staff_type(æ–°)  â”‚  â”‚ - business_role  â”‚    â”‚
â”‚  â”‚ - robot_id       â”‚  â”‚ - staff_user_id   â”‚  â”‚ - robot_id       â”‚    â”‚
â”‚  â”‚ - session_id     â”‚  â”‚ - robot_id        â”‚  â”‚ - staff_user_id  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ keyword_triggers â”‚  â”‚ sessions         â”‚  â”‚ robots           â”‚    â”‚
â”‚  â”‚ (æ–°å»º)           â”‚  â”‚ - business_role  â”‚  â”‚ - business_roles â”‚    â”‚
â”‚  â”‚ - keyword        â”‚  â”‚ (æ–°å¢å­—æ®µ)        â”‚  â”‚                  â”‚    â”‚
â”‚  â”‚ - business_role  â”‚  â”‚                  â”‚  â”‚                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                    â”‚
       â”‚ ç»Ÿè®¡æ•°æ®           â”‚ ç»Ÿè®¡æ•°æ®           â”‚ ç»Ÿè®¡æ•°æ®
       â†“                    â†“                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ååŒåˆ†æé¡µé¢  â”‚    â”‚  ç›‘æ§å¤§å±    â”‚    â”‚  ä¼šè¯ç®¡ç†    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ è¯¦ç»†æ•°æ®æµå›¾

### åœºæ™¯1: ç”¨æˆ·æ¶ˆæ¯å¤„ç† + å†³ç­–è®°å½•

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·å‘é€æ¶ˆæ¯ â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœºå™¨äººæ¥æ”¶æ¶ˆæ¯                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æŸ¥è¯¢æœºå™¨äººä¿¡æ¯                   â”‚
â”‚ GET /api/admin/robots/:id       â”‚
â”‚ è¿”å›: robot_id, name, status    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æŸ¥è¯¢ä¸šåŠ¡è§’è‰²é…ç½®                 â”‚
â”‚ GET /api/robots/business-roles  â”‚
â”‚ è¿”å›: code, aiBehavior,         â”‚
â”‚        staffEnabled, keywords   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŒ¹é…å…³é”®è¯                       â”‚
â”‚ æ£€æŸ¥æ¶ˆæ¯æ˜¯å¦åŒ…å« role.keywords  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
       â”œâ”€â†’ è§¦å‘å…³é”®è¯
       â”‚    â†“
       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  â”‚ è®°å½•å…³é”®è¯è§¦å‘            â”‚
       â”‚  â”‚ INSERT INTO              â”‚
       â”‚  â”‚ keyword_triggers (       â”‚
       â”‚  â”‚   keyword,               â”‚
       â”‚  â”‚   business_role_id,      â”‚
       â”‚  â”‚   robot_id               â”‚
       â”‚  â”‚ )                        â”‚
       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚             â†“
       â”‚         å…³é”®è¯ç»Ÿè®¡
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ£€æŸ¥AIè¡Œä¸ºé…ç½®                   â”‚
â”‚ aiBehavior:                     â”‚
â”‚   - full_auto (å…¨è‡ªåŠ¨)          â”‚
â”‚   - semi_auto (åŠè‡ªåŠ¨)          â”‚
â”‚   - record_only (ä»…è®°å½•)        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ£€æŸ¥å·¥ä½œäººå‘˜è¯†åˆ«                 â”‚
â”‚ staffEnabled + staffTypeFilter  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å†³ç­–ï¼šAIå›å¤ / å·¥ä½œäººå‘˜å›å¤      â”‚
â”‚ å†³ç­–é€»è¾‘ï¼š                      â”‚
â”‚   1. aiBehavior == full_auto    â”‚
â”‚      â†’ AIå›å¤                   â”‚
â”‚   2. aiBehavior == semi_auto    â”‚
â”‚      + åŒ¹é…å·¥ä½œäººå‘˜ç±»å‹          â”‚
â”‚      â†’ å·¥ä½œäººå‘˜å›å¤              â”‚
â”‚   3. aiBehavior == record_only  â”‚
â”‚      â†’ è®°å½•å†³ç­–ï¼Œä¸å›å¤          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®°å½•å†³ç­–æ—¥å¿—                     â”‚
â”‚ INSERT INTO collaboration_      â”‚
â”‚ decision_logs (                 â”‚
â”‚   session_id,                   â”‚
â”‚   robot_id,                     â”‚
â”‚   business_role, â† è§’è‰²ä»£ç       â”‚
â”‚   message_content,              â”‚
â”‚   decision_outcome,             â”‚
â”‚   ...                          â”‚
â”‚ )                              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
       â”œâ”€â†’ å†³ç­–: AIå›å¤
       â”‚    â†“
       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  â”‚ AIå¤„ç†å¹¶å›å¤              â”‚
       â”‚  â”‚ â†’ æ¶ˆæ¯å‘é€                â”‚
       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â””â”€â†’ å†³ç­–: å·¥ä½œäººå‘˜å›å¤
            â†“
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ åˆ›å»ºä»»åŠ¡                  â”‚
          â”‚ INSERT INTO tasks (       â”‚
          â”‚   business_role_id,       â”‚
          â”‚   robot_id,               â”‚
          â”‚   staff_user_id,          â”‚
          â”‚   description,            â”‚
          â”‚   status                  â”‚
          â”‚ )                         â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
                   ä»»åŠ¡ç»Ÿè®¡
```

### åœºæ™¯2: å·¥ä½œäººå‘˜æ´»åŠ¨è®°å½•

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å·¥ä½œäººå‘˜ç™»å½•ç³»ç»Ÿ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æŸ¥è¯¢å·¥ä½œäººå‘˜ä¿¡æ¯                 â”‚
â”‚ GET /api/admin/staff/:id        â”‚
â”‚ è¿”å›: staff_user_id, name,      â”‚
â”‚        type, status             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å·¥ä½œäººå‘˜å¤„ç†æ¶ˆæ¯                 â”‚
â”‚ - æŸ¥çœ‹ä¼šè¯                       â”‚
â”‚ - å›å¤æ¶ˆæ¯                       â”‚
â”‚ - æ ‡è®°å¤„ç†å®Œæˆ                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®°å½•å·¥ä½œäººå‘˜æ´»åŠ¨                 â”‚
â”‚ INSERT INTO staff_activities (  â”‚
â”‚   staff_user_id,                â”‚
â”‚   staff_type, â† å·¥ä½œäººå‘˜ç±»å‹     â”‚
â”‚   robot_id,                     â”‚
â”‚   session_id,                   â”‚
â”‚   activity_type,                â”‚
â”‚   timestamp                     â”‚
â”‚ )                              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
   å·¥ä½œäººå‘˜æ´»è·ƒåº¦ç»Ÿè®¡
```

### åœºæ™¯3: ååŒåˆ†ææ•°æ®èšåˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ååŒåˆ†ææ¨¡å—å¯åŠ¨                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. è¯»å–ä¸šåŠ¡è§’è‰²åˆ—è¡¨              â”‚
â”‚ GET /api/robots/business-roles  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. è¯»å–æœºå™¨äººåˆ—è¡¨                â”‚
â”‚ GET /api/admin/robots           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. æŒ‰ä¸šåŠ¡è§’è‰²èšåˆæ•°æ®            â”‚
â”‚                                 â”‚
â”‚ FROM collaboration_decision_logsâ”‚
â”‚ GROUP BY business_role          â”‚
â”‚                                 â”‚
â”‚ ç»Ÿè®¡æŒ‡æ ‡:                       â”‚
â”‚ - æ€»å†³ç­–æ•°                      â”‚
â”‚ - AIå›å¤ç‡                      â”‚
â”‚ - å·¥ä½œäººå‘˜å›å¤ç‡                â”‚
â”‚ - å¹³å‡å“åº”æ—¶é—´                  â”‚
â”‚ - æ»¡æ„åº¦è¯„åˆ†                    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. å…³è”æœºå™¨äººæ•°æ®                â”‚
â”‚ JOIN robots                     â”‚
â”‚ ON robot_id                     â”‚
â”‚                                 â”‚
â”‚ è·å–:                           â”‚
â”‚ - æœºå™¨äººåç§°                     â”‚
â”‚ - æœºå™¨äººçŠ¶æ€                     â”‚
â”‚ - æœºå™¨äººåˆ†ç»„                     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. ç»Ÿè®¡å·¥ä½œäººå‘˜æ´»åŠ¨              â”‚
â”‚ FROM staff_activities           â”‚
â”‚ GROUP BY staff_type             â”‚
â”‚                                 â”‚
â”‚ ç»Ÿè®¡æŒ‡æ ‡:                       â”‚
â”‚ - æ´»è·ƒå·¥ä½œäººå‘˜æ•°                â”‚
â”‚ - å¤„ç†ä¼šè¯æ•°                    â”‚
â”‚ - å¹³å‡å“åº”æ—¶é—´                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. ç»Ÿè®¡å…³é”®è¯è§¦å‘                â”‚
â”‚ FROM keyword_triggers           â”‚
â”‚ GROUP BY keyword, business_role â”‚
â”‚                                 â”‚
â”‚ ç»Ÿè®¡æŒ‡æ ‡:                       â”‚
â”‚ - è§¦å‘æ¬¡æ•°                      â”‚
â”‚ - è§¦å‘ç‡                        â”‚
â”‚ - å¹³å‡å¤„ç†æ—¶é—´                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. ç»Ÿè®¡ä»»åŠ¡å®Œæˆæƒ…å†µ              â”‚
â”‚ FROM tasks                      â”‚
â”‚ GROUP BY business_role_id       â”‚
â”‚                                 â”‚
â”‚ ç»Ÿè®¡æŒ‡æ ‡:                       â”‚
â”‚ - ä»»åŠ¡æ€»æ•°                      â”‚
â”‚ - å®Œæˆç‡                        â”‚
â”‚ - å¹³å‡å®Œæˆæ—¶é—´                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. ç”Ÿæˆåˆ†ææŠ¥å‘Š                  â”‚
â”‚                                 â”‚
â”‚ è¿”å›æ•°æ®ç»“æ„:                   â”‚
â”‚ {                               â”‚
â”‚   businessRoles: [              â”‚
â”‚     {                           â”‚
â”‚       code: 'community_ops',    â”‚
â”‚       name: 'ç¤¾ç¾¤è¿è¥',          â”‚
â”‚       stats: {                  â”‚
â”‚         totalDecisions: 1000,    â”‚
â”‚         aiReplyRate: 0.7,       â”‚
â”‚         staffReplyRate: 0.3,     â”‚
â”‚         avgResponseTime: 150,    â”‚
â”‚         satisfactionScore: 4.5   â”‚
â”‚       }                         â”‚
â”‚     }                           â”‚
â”‚   ],                            â”‚
â”‚   robots: [...],                â”‚
â”‚   staffActivities: [...],       â”‚
â”‚   keywordTriggers: [...],       â”‚
â”‚   tasks: [...]                  â”‚
â”‚ }                               â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9. å‰ç«¯å±•ç¤º                      â”‚
â”‚ - ä¸šåŠ¡è§’è‰²åˆ†ææ ‡ç­¾é¡µ             â”‚
â”‚ - å…³é”®è¯åˆ†ææ ‡ç­¾é¡µ               â”‚
â”‚ - ä»»åŠ¡åˆ†ææ ‡ç­¾é¡µ                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ æ•°æ®åº“å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ ¸å¿ƒæ•°æ®è¡¨                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     robots       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚
â”‚ robotId          â”‚
â”‚ name             â”‚
â”‚ status           â”‚
â”‚ group_name       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1:N
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  business_roles  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚
â”‚ name             â”‚
â”‚ code (UK)        â”‚
â”‚ description      â”‚
â”‚ aiBehavior       â”‚
â”‚ staffEnabled     â”‚
â”‚ staffTypeFilter  â”‚
â”‚ keywords[]       â”‚
â”‚ enableTaskCreationâ”‚
â”‚ robotId (FK)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1:N (å…³è”)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        collaboration_decision_logs               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                                          â”‚
â”‚ session_id (FK)                                  â”‚
â”‚ robot_id (FK)                                    â”‚
â”‚ staff_user_id (FK)                               â”‚
â”‚ business_role (FK â†’ business_roles.code)  â­     â”‚
â”‚ message_content                                  â”‚
â”‚ decision_outcome                                â”‚
â”‚ ai_reply_probability                             â”‚
â”‚ staff_reply_probability                          â”‚
â”‚ final_decision_type                              â”‚
â”‚ response_time                                    â”‚
â”‚ satisfaction_score                               â”‚
â”‚ timestamp                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    sessions      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚
â”‚ robot_id (FK)    â”‚
â”‚ staff_user_id    â”‚
â”‚ status           â”‚
â”‚ has_staff_       â”‚
â”‚   intervention   â”‚
â”‚ business_role    â”‚ â† æ–°å¢å­—æ®µ ğŸ”µ
â”‚ total_messages   â”‚
â”‚ ai_messages      â”‚
â”‚ staff_messages   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1:N
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ collaboration_   â”‚
â”‚ decision_logs    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ staff_activities â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚
â”‚ staff_user_id    â”‚
â”‚ staff_type       â”‚ â† æ–°å¢å­—æ®µ ğŸ”µ
â”‚ robot_id         â”‚
â”‚ session_id       â”‚
â”‚ activity_type    â”‚
â”‚ timestamp        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1:N
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   staff_users    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚
â”‚ username         â”‚
â”‚ email            â”‚
â”‚ role             â”‚
â”‚ status           â”‚
â”‚ avatar           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      tasks       â”‚ â† æ–°è¡¨ ğŸ”µ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚
â”‚ business_role_id â”‚
â”‚ robot_id         â”‚
â”‚ staff_user_id    â”‚
â”‚ description      â”‚
â”‚ status           â”‚
â”‚ created_at       â”‚
â”‚ completed_at     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ keyword_triggers â”‚ â† æ–°è¡¨ ğŸ”µ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚
â”‚ keyword          â”‚
â”‚ business_role_id â”‚
â”‚ robot_id         â”‚
â”‚ trigger_count    â”‚
â”‚ last_triggered_atâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ æ•°æ®æµå‘æ€»ç»“

### è¾“å…¥æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      è¾“å…¥æ•°æ®                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  1. ä¸šåŠ¡è§’è‰²é…ç½®                                          â”‚
â”‚     â†’ æ¥æº: ä¸šåŠ¡è§’è‰²ç®¡ç†æ¨¡å—                             â”‚
â”‚     â†’ å†…å®¹: code, aiBehavior, keywords, staffEnabled    â”‚
â”‚                                                         â”‚
â”‚  2. æœºå™¨äººä¿¡æ¯                                            â”‚
â”‚     â†’ æ¥æº: æœºå™¨äººç®¡ç†æ¨¡å—                               â”‚
â”‚     â†’ å†…å®¹: robot_id, name, status, business_roles[]    â”‚
â”‚                                                         â”‚
â”‚  3. å·¥ä½œäººå‘˜ä¿¡æ¯                                          â”‚
â”‚     â†’ æ¥æº: å·¥ä½œäººå‘˜ç®¡ç†æ¨¡å—                             â”‚
â”‚     â†’ å†…å®¹: staff_user_id, staff_type, status           â”‚
â”‚                                                         â”‚
â”‚  4. ä¼šè¯ä¿¡æ¯                                              â”‚
â”‚     â†’ æ¥æº: ä¼šè¯ç®¡ç†æ¨¡å—                                 â”‚
â”‚     â†’ å†…å®¹: session_id, robot_id, staff_user_id         â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¤„ç†æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¤„ç†è¿‡ç¨‹                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  1. å†³ç­–è®°å½•                                              â”‚
â”‚     â†’ æ’å…¥ collaboration_decision_logs                   â”‚
â”‚     â†’ åŒ…å«: business_role, robot_id, decision_outcome   â”‚
â”‚                                                         â”‚
â”‚  2. ä»»åŠ¡åˆ›å»º                                              â”‚
â”‚     â†’ æ’å…¥ tasks                                         â”‚
â”‚     â†’ åŒ…å«: business_role_id, robot_id, staff_user_id   â”‚
â”‚                                                         â”‚
â”‚  3. å…³é”®è¯è§¦å‘                                            â”‚
â”‚     â†’ æ’å…¥ keyword_triggers                              â”‚
â”‚     â†’ åŒ…å«: keyword, business_role_id, robot_id         â”‚
â”‚                                                         â”‚
â”‚  4. å·¥ä½œäººå‘˜æ´»åŠ¨                                          â”‚
â”‚     â†’ æ’å…¥ staff_activities                             â”‚
â”‚     â†’ åŒ…å«: staff_user_id, staff_type, robot_id         â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¾“å‡ºæ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      è¾“å‡ºæ•°æ®                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  1. ä¸šåŠ¡è§’è‰²åˆ†æ                                          â”‚
â”‚     â†’ ç»Ÿè®¡: æŒ‰ä¸šåŠ¡è§’è‰²åˆ†ç»„çš„å†³ç­–æ•°ã€AIå›å¤ç‡ã€æ»¡æ„åº¦     â”‚
â”‚     â†’ å±•ç¤º: ä¸šåŠ¡è§’è‰²åˆ†ææ ‡ç­¾é¡µ                           â”‚
â”‚                                                         â”‚
â”‚  2. å…³é”®è¯åˆ†æ                                            â”‚
â”‚     â†’ ç»Ÿè®¡: å…³é”®è¯è§¦å‘æ¬¡æ•°ã€è§¦å‘ç‡ã€ä¼˜åŒ–å»ºè®®             â”‚
â”‚     â†’ å±•ç¤º: å…³é”®è¯åˆ†ææ ‡ç­¾é¡µ                             â”‚
â”‚                                                         â”‚
â”‚  3. ä»»åŠ¡åˆ†æ                                              â”‚
â”‚     â†’ ç»Ÿè®¡: ä»»åŠ¡å®Œæˆç‡ã€å¹³å‡å®Œæˆæ—¶é—´ã€è¶…æ—¶ç‡             â”‚
â”‚     â†’ å±•ç¤º: ä»»åŠ¡åˆ†ææ ‡ç­¾é¡µ                               â”‚
â”‚                                                         â”‚
â”‚  4. å·¥ä½œäººå‘˜åˆ†æ                                          â”‚
â”‚     â†’ ç»Ÿè®¡: å·¥ä½œäººå‘˜æ´»è·ƒåº¦ã€å“åº”æ—¶é—´ã€å·¥ä½œé‡             â”‚
â”‚     â†’ å±•ç¤º: å·¥ä½œäººå‘˜åˆ†ææ ‡ç­¾é¡µ                           â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ å…³é”®è”åŠ¨ç‚¹æ€»ç»“

### å¿…é¡»å®ç°ï¼ˆP0ï¼‰

| å­—æ®µ | è¡¨ | ç”¨é€” | æ¥æº |
|-----|---|------|------|
| business_role | collaboration_decision_logs | è®°å½•å†³ç­–ä½¿ç”¨çš„ä¸šåŠ¡è§’è‰² | ä¸šåŠ¡è§’è‰²ç®¡ç† |
| staff_type | staff_activities | æŒ‰å·¥ä½œäººå‘˜ç±»å‹åˆ†æ | å·¥ä½œäººå‘˜ç®¡ç† |
| business_role_id | tasks | å…³è”ä»»åŠ¡ä¸ä¸šåŠ¡è§’è‰² | ä¸šåŠ¡è§’è‰²ç®¡ç† |
| keyword | keyword_triggers | å…³é”®è¯è§¦å‘ç»Ÿè®¡ | ä¸šåŠ¡è§’è‰²ç®¡ç† |
| business_role_id | keyword_triggers | æŒ‰è§’è‰²ç»Ÿè®¡å…³é”®è¯ | ä¸šåŠ¡è§’è‰²ç®¡ç† |

### å¯é€‰å®ç°ï¼ˆP1ï¼‰

| å­—æ®µ | è¡¨ | ç”¨é€” | æ¥æº |
|-----|---|------|------|
| business_role | sessions | æŒ‰è§’è‰²åˆ†æä¼šè¯è´¨é‡ | ä¸šåŠ¡è§’è‰²ç®¡ç† |
| business_role | commands | æŒ‰è§’è‰²ç»Ÿè®¡æŒ‡ä»¤æ‰§è¡Œ | ä¸šåŠ¡è§’è‰²ç®¡ç† |
| collaboration_rate | monitoring_dashboard | å®æ—¶ååŒæŒ‡æ ‡ | ååŒåˆ†ææ¨¡å— |

---

## ğŸ“ å®æ–½æ£€æŸ¥æ¸…å•

### æ•°æ®åº“ï¼ˆâœ…=å·²æœ‰ï¼ŒğŸ”µ=éœ€è¦æ–°å»ºï¼‰

- âœ… collaboration_decision_logs.business_role
- ğŸ”µ staff_activities.staff_type
- ğŸ”µ sessions.business_role
- ğŸ”µ tasks è¡¨
- ğŸ”µ keyword_triggers è¡¨

### APIï¼ˆğŸ”µ=éœ€è¦å¼€å‘ï¼‰

- ğŸ”µ GET /api/collaboration/by-business-role
- ğŸ”µ GET /api/collaboration/keywords
- ğŸ”µ GET /api/collaboration/tasks
- ğŸ”µ GET /api/collaboration/staff-type

### å‰ç«¯ï¼ˆğŸ”µ=éœ€è¦å¼€å‘ï¼‰

- ğŸ”µ ä¸šåŠ¡è§’è‰²åˆ†ææ ‡ç­¾é¡µ
- ğŸ”µ å…³é”®è¯åˆ†ææ ‡ç­¾é¡µ
- ğŸ”µ ä»»åŠ¡åˆ†ææ ‡ç­¾é¡µ

### é›†æˆï¼ˆğŸ”µ=éœ€è¦é›†æˆï¼‰

- ğŸ”µ ç›‘æ§å¤§å±æ˜¾ç¤ºååŒæŒ‡æ ‡
- ğŸ”µ æŒ‡ä»¤å‘é€æ”¯æŒä¸šåŠ¡è§’è‰²é€‰æ‹©
- ğŸ”µ ä¼šè¯ç®¡ç†æ˜¾ç¤ºä¸šåŠ¡è§’è‰²ä¿¡æ¯

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

1. âœ… é˜…è¯»æœ¬æ–‡æ¡£
2. ğŸ”µ å®¡æŸ¥æ•°æ®åº“è„šæœ¬ `scripts/create-collab-tables.sql`
3. ğŸ”µ æ‰§è¡Œæ•°æ®åº“è„šæœ¬
4. ğŸ”µ å¼€å§‹å¼€å‘ API æ¥å£
5. ğŸ”µ å¼€å‘å‰ç«¯æ ‡ç­¾é¡µ
6. ğŸ”µ é›†æˆåˆ°ä¸»ç³»ç»Ÿ
