# 图片识别功能实施前需要确认的问题清单

## 📋 需要确认的问题

### 1. 技术选择类

#### 1.1 OCR服务商选择
**问题**：使用哪家OCR服务？
- A. 腾讯云OCR（推荐，0.01元/次）
- B. 百度OCR（0.005元/次）
- C. 阿里云OCR
- D. 其他

**说明**：如果选择传统OCR方案，需要确定服务商。

---

#### 1.2 是否使用GPT-4V Vision
**问题**：是否使用GPT-4V Vision进行高级内容理解？
- A. 是，使用GPT-4V Vision（成本90元/月，能力强）
- B. 否，只使用传统OCR（成本60元/月，能力较弱）
- C. 混合方案（GPT-4V识别场景 + OCR提取文字，成本60-75元/月）⭐推荐

**说明**：
- GPT-4V优势：场景理解强、结构化提取、开发量少
- 传统OCR优势：成本低、响应快
- 混合方案：平衡成本和能力

---

#### 1.3 GPT-4V集成方式
**问题**：如果使用GPT-4V，使用哪种集成方式？
- A. OpenAI API直接调用（推荐，灵活性高）
- B. Azure OpenAI服务调用（适合企业，国内稳定）
- C. 通过现有LLM技能调用（快速集成）

**说明**：
- 需要对应的API Key或配置

---

### 2. WorkTool图片相关

#### 2.1 图片URL访问限制
**问题**：WorkTool图片URL是否有访问限制？
- A. 无限制，可以直接访问
- B. 需要认证token
- C. 有其他限制（请说明）

**说明**：如果需要认证，需要调整图片下载逻辑。

---

#### 2.2 图片URL有效期
**问题**：WorkTool图片URL有效期是多久？
- A. 永久链接
- B. 临时链接（有效期多久？）
- C. 不清楚

**说明**：
- 如果是临时链接，需要在失效前完成图片识别
- 或者需要保存图片到本地/对象存储

---

#### 2.3 是否需要长期保存图片
**问题**：识别后的图片是否需要长期保存？
- A. 不需要，识别后可以删除
- B. 需要保存一定时间（多久？）
- C. 需要永久保存

**说明**：如果需要长期保存，需要集成对象存储。

---

### 3. 系统配置类

#### 3.1 是否有OpenAI API Key
**问题**：是否已有OpenAI API Key？
- A. 有，可以直接使用
- B. 没有，需要申请
- C. 不确定

**说明**：使用GPT-4V需要OpenAI API Key。

---

#### 3.2 图片处理限制
**问题**：图片处理有什么限制？
- 最大图片大小？（如：10MB）
- 支持的图片格式？（JPG、PNG、PDF等）
- 是否需要图片压缩？

---

#### 3.3 识别准确性要求
**问题**：对图片识别的准确性要求？
- A. 高（视频号开通状态、违规原因必须准确）
- B. 中（可以接受少量错误）
- C. 低（仅供参考）

**说明**：准确性要求影响是否需要GPT-4V。

---

### 4. 业务场景类

#### 4.1 除视频号和违规，还有哪些图片识别场景？
**问题**：除了视频号开通截图和账号违规截图，还有哪些需要识别的场景？
- A. 产品截图
- B. 订单截图
- C. 付款截图
- D. 其他（请说明）

**说明**：需要配置相应的识别规则和回复模板。

---

#### 4.2 回复模板是否需要定制？
**问题**：回复模板是否需要定制？
- A. 使用默认模板
- B. 需要定制（请提供模板内容）

**说明**：不同场景的回复模板可以自定义。

---

#### 4.3 是否需要识别结果存档？
**问题**：图片识别结果是否需要存档？
- A. 不需要
- B. 需要保存到数据库
- C. 需要保存到文件

**说明**：存档便于后续分析和审计。

---

### 5. 成本和性能类

#### 5.1 预期图片识别量
**问题**：预期每天的图片识别量？
- A. < 10张
- B. 10-50张
- C. 50-100张
- D. > 100张

**说明**：影响成本预算和性能配置。

---

#### 5.2 响应时间要求
**问题**：对图片识别的响应时间要求？
- A. < 3秒
- B. 3-5秒
- C. > 5秒

**说明**：GPT-4V约2-5秒，传统OCR约0.5-2秒。

---

#### 5.3 并发处理要求
**问题**：是否需要支持并发图片识别？
- A. 不需要
- B. 需要（最大并发数？）

**说明**：影响系统架构设计。

---

## ✅ 推荐配置（默认方案）

如果不清楚如何选择，推荐使用以下默认配置：

| 问题 | 推荐答案 | 原因 |
|-----|---------|------|
| OCR服务商 | 腾讯云OCR | 国内稳定，准确率高 |
| 是否使用GPT-4V | 混合方案 | 平衡成本和能力 |
| GPT-4V集成方式 | OpenAI API直接调用 | 灵活性高 |
| 图片URL访问限制 | 无限制 | 假设无限制 |
| 图片URL有效期 | 永久链接 | 假设永久链接 |
| 是否保存图片 | 不需要 | 识别后删除 |
| OpenAI API Key | 需要提供 | 使用GPT-4V必需 |
| 图片大小限制 | 10MB | 常见限制 |
| 准确性要求 | 高 | 视频号和违规需要准确 |
| 识别场景 | 视频、违规、产品 | 主要场景 |
| 回复模板 | 使用默认模板 | 可后续定制 |
| 结果存档 | 保存到数据库 | 便于分析 |
| 日识别量 | 50-100张 | 中等规模 |
| 响应时间 | 3-5秒 | 可接受 |
| 并发处理 | 不需要 | 简化架构 |

---

## 💰 成本预估（默认方案）

### 混合方案（GPT-4V识别场景 + OCR提取文字）

| 项目 | 费用 | 说明 |
|-----|------|------|
| GPT-4V Vision | 0.03元/次 | 场景识别 |
| 腾讯云OCR | 0.01元/次 | 文字提取 |
| 单次识别 | 0.04元/次 | 综合成本 |
| 每天50张 | 2元/天 | 60元/月 |
| 每天100张 | 4元/天 | 120元/月 |

### 纯GPT-4V方案

| 项目 | 费用 | 说明 |
|-----|------|------|
| GPT-4V Vision | 0.03元/次 | 综合处理 |
| 单次识别 | 0.03元/次 | 综合成本 |
| 每天50张 | 1.5元/天 | 45元/月 |
| 每天100张 | 3元/天 | 90元/月 |

---

## 🚀 实施周期（默认方案）

| 方案 | 周期 |
|-----|------|
| 纯GPT-4V方案 | 5-8天 |
| 混合方案 | 7-10天 |
| 纯OCR方案 | 8-12天 |

---

## 📝 下一步

请确认上述问题，我可以据此确定最终方案并开始实施。

**建议**：
1. 如果不确定，可以先使用推荐配置（默认方案）
2. 后续可以根据实际使用情况调整
3. 优先回答关键问题（1.2、1.3、2.1、2.2）
