{
  "id": "flow_v4_alert_escalation",
  "name": "å‘Šè­¦å‡çº§æµç¨‹",
  "description": "ç”¨æˆ·ä¸æ»¡æ„æ—¶è§¦å‘å‘Šè­¦å‡çº§ï¼Œé€šçŸ¥æ›´é«˜å±‚çº§è´Ÿè´£äºº",
  "version": "4.0.0",
  "isDefault": false,
  "category": "å‘Šè­¦ç®¡ç†",
  "tags": ["å‘Šè­¦", "å‡çº§", "ç”¨æˆ·ä¸æ»¡æ„"],
  "triggerType": "webhook",
  "triggerConfig": {
    "webhookUrl": "/api/worktool/callback/message",
    "eventType": "message",
    "method": "POST"
  },
  "nodes": [
    {
      "id": "node_message_entry",
      "type": "MESSAGE_ENTRY",
      "position": { "x": 0, "y": 100 },
      "data": {
        "name": "æ¶ˆæ¯å…¥å£",
        "description": "æ¥æ”¶ã€ä¿å­˜ã€è§£ææ¶ˆæ¯",
        "icon": "ğŸ“¥",
        "color": "#10b981",
        "autoMode": true
      }
    },
    {
      "id": "node_smart_analyze",
      "type": "SMART_ANALYZE",
      "position": { "x": 200, "y": 100 },
      "data": {
        "name": "æ™ºèƒ½åˆ†æ",
        "description": "æ£€æµ‹ç”¨æˆ·ä¸æ»¡æ„ï¼ˆæ„¤æ€’ã€è´Ÿé¢ã€æŠ•è¯‰ã€è´Ÿé¢å…³é”®è¯ï¼‰",
        "icon": "ğŸ§ ",
        "color": "#8b5cf6",
        "autoMode": true,
        "config": {
          "focusOn": ["emotion_analysis", "intent_recognition"]
        }
      }
    },
    {
      "id": "node_flow_decision",
      "type": "FLOW_DECISION",
      "position": { "x": 400, "y": 100 },
      "data": {
        "name": "æµç¨‹å†³ç­–",
        "description": "æ£€æµ‹åˆ°ç”¨æˆ·ä¸æ»¡æ„æ—¶è§¦å‘å‘Šè­¦å‡çº§",
        "icon": "ğŸ”€",
        "color": "#f59e0b",
        "autoMode": true
      }
    },
    {
      "id": "node_alert_escalation",
      "type": "ALERT_ESCALATION",
      "position": { "x": 600, "y": 100 },
      "data": {
        "name": "å‘Šè­¦å‡çº§",
        "description": "ç”¨æˆ·ä¸æ»¡æ„æ£€æµ‹ã€ç«‹å³ä»‹å…¥ã€å‘Šè­¦çº§åˆ«æå‡ã€é€šçŸ¥è´Ÿè´£äºº",
        "icon": "ğŸ””",
        "color": "#f97316",
        "autoMode": true,
        "config": {
          "enabledActions": [
            "alert_level_detection",
            "user_dissatisfaction_detection",
            "escalation_rule_evaluation",
            "escalation_notification",
            "escalation_logging",
            "escalation_workflow",
            "escalation_decision"
          ],
          "userDissatisfactionRules": {
            "angryEmotion": { "action": "immediate_intervention", "escalateTo": "level_3" },
            "negativeEmotion": { "action": "elevate_alert", "increment": 1 },
            "complaintIntent": { "action": "immediate_intervention", "escalateTo": "level_3" },
            "negativeKeywords": { "action": "elevate_alert", "increment": 2 }
          }
        }
      }
    },
    {
      "id": "node_human_handover",
      "type": "HUMAN_HANDOVER",
      "position": { "x": 800, "y": 100 },
      "data": {
        "name": "äººå·¥æ¥ç®¡",
        "description": "ç«‹å³ä»‹å…¥ï¼Œé€šçŸ¥ç»ç†å¤„ç†",
        "icon": "ğŸ‘¥",
        "color": "#8b5cf6",
        "autoMode": true
      }
    },
    {
      "id": "node_flow_end",
      "type": "FLOW_END",
      "position": { "x": 1000, "y": 100 },
      "data": {
        "name": "æµç¨‹ç»“æŸ",
        "description": "å‘Šè­¦å‡çº§å’Œäººå·¥æ¥ç®¡å®Œæˆ",
        "icon": "âœ…",
        "color": "#22c55e",
        "autoMode": true
      }
    }
  ],
  "edges": [
    {
      "id": "edge_01",
      "source": "node_message_entry",
      "target": "node_smart_analyze"
    },
    {
      "id": "edge_02",
      "source": "node_smart_analyze",
      "target": "node_flow_decision"
    },
    {
      "id": "edge_03",
      "source": "node_flow_decision",
      "target": "node_alert_escalation",
      "label": "ç”¨æˆ·ä¸æ»¡æ„"
    },
    {
      "id": "edge_04",
      "source": "node_alert_escalation",
      "target": "node_human_handover",
      "label": "ç«‹å³ä»‹å…¥"
    },
    {
      "id": "edge_05",
      "source": "node_human_handover",
      "target": "node_flow_end"
    }
  ],
  "metadata": {
    "nodeCount": 6,
    "estimatedDuration": "2-3ç§’",
    "specialFeatures": ["ç”¨æˆ·ä¸æ»¡æ„æ£€æµ‹", "ç«‹å³ä»‹å…¥", "å‘Šè­¦çº§åˆ«æå‡", "é€šçŸ¥ç»ç†"],
    "author": "WorkTool AI",
    "createdAt": "2025-01-04"
  }
}
