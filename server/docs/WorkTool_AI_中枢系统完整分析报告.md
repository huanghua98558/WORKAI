# WorkTool AI ä¸­æ¢ç³»ç»Ÿå®Œæ•´åˆ†ææŠ¥å‘Š

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
> **åˆ›å»ºæ—¶é—´**: 2026-02-10  
> **ç»´æŠ¤è€…**: WorkTool AI å›¢é˜Ÿ

---

## ğŸ“‹ ç›®å½•

- [ä¸€ã€ç³»ç»Ÿæ¦‚è¿°](#ä¸€ç³»ç»Ÿæ¦‚è¿°)
- [äºŒã€ç³»ç»Ÿæ¶æ„](#äºŒç³»ç»Ÿæ¶æ„)
- [ä¸‰ã€æ ¸å¿ƒåŠŸèƒ½æ¿å—](#ä¸‰æ ¸å¿ƒåŠŸèƒ½æ¿å—)
- [å››ã€å‰ç«¯å®ç°çŠ¶å†µ](#å››å‰ç«¯å®ç°çŠ¶å†µ)
- [äº”ã€åç«¯å®ç°çŠ¶å†µ](#äº”åç«¯å®ç°çŠ¶å†µ)
- [å…­ã€ç³»ç»Ÿå½“å‰çŠ¶å†µ](#å…­ç³»ç»Ÿå½“å‰çŠ¶å†µ)
- [ä¸ƒã€æŠ€æœ¯æ ˆ](#ä¸ƒæŠ€æœ¯æ ˆ)
- [å…«ã€éƒ¨ç½²æ¶æ„](#å…«éƒ¨ç½²æ¶æ„)
- [ä¹ã€å¾…ä¼˜åŒ–é¡¹](#ä¹å¾…ä¼˜åŒ–é¡¹)

---

## ä¸€ã€ç³»ç»Ÿæ¦‚è¿°

### 1.1 ç³»ç»Ÿå®šä½

WorkTool AI ä¸­æ¢ç³»ç»Ÿæ˜¯ä¸€ä¸ª**ä¼ä¸šå¾®ä¿¡ç¤¾ç¾¤æ™ºèƒ½æœåŠ¡å‹ AI ä¸­æ¢å¹³å°**ï¼Œä¸ºä¼ä¸šæä¾›ï¼š
- æ— äººå€¼å®ˆçš„è‡ªåŠ¨åŒ–å®¢æœ
- å¯ç›‘æ§çš„è¿è¥æ•°æ®
- å¯é¢„è­¦çš„é£é™©ç®¡ç†
- å¯å¯¹æ¥çš„é›†æˆèƒ½åŠ›
- å¯å®¡è®¡çš„åˆè§„æ€§

### 1.2 æ ¸å¿ƒä»·å€¼

| ä»·å€¼ç»´åº¦ | è¯´æ˜ | æŠ€æœ¯å®ç° |
|---------|------|----------|
| **æ™ºèƒ½åŒ–** | AI è‡ªåŠ¨è¯†åˆ«æ„å›¾ã€è‡ªåŠ¨å›å¤ | AI Serviceã€æ„å›¾è¯†åˆ«ç³»ç»Ÿ |
| **è‡ªåŠ¨åŒ–** | æ— éœ€äººå·¥å€¼å®ˆï¼Œ7x24å°æ—¶æœåŠ¡ | è‡ªåŠ¨å›å¤ç­–ç•¥ã€ååŒå†³ç­– |
| **å¯è§†åŒ–** | å®æ—¶ç›‘æ§æ•°æ®ï¼Œç›´è§‚å±•ç¤º | ç›‘æ§ä»ªè¡¨ç›˜ã€ä¸šåŠ¡æ¶ˆæ¯ç›‘æ§ |
| **å¯æ§æ€§** | æ”¯æŒäººå·¥æ¥ç®¡ã€ä¸Šä¸‹æ–‡ç®¡ç† | ä¼šè¯ç®¡ç†ã€äººå·¥å®¢æœç³»ç»Ÿ |
| **æ‰©å±•æ€§** | æ”¯æŒæµç¨‹å¼•æ“ã€è‡ªå®šä¹‰é…ç½® | Flow Engineã€é…ç½®ç®¡ç† |

### 1.3 ç³»ç»Ÿç‰¹ç‚¹

- âœ… **ç»Ÿä¸€å›è°ƒå…¥å£** - æ”¯æŒ 4 ç±»å›è°ƒï¼ˆæ¶ˆæ¯ã€æ‰§è¡Œç»“æœã€ç¾¤äºŒç»´ç ã€æœºå™¨äººçŠ¶æ€ï¼‰
- âœ… **æ„å›¾è¯†åˆ«ç³»ç»Ÿ** - AI è‡ªåŠ¨è¯†åˆ«ç”¨æˆ·æ„å›¾ï¼ˆèŠå¤©ã€æœåŠ¡ã€å¸®åŠ©ã€é£é™©ã€åƒåœ¾ä¿¡æ¯ç­‰ï¼‰
- âœ… **è‡ªåŠ¨å›å¤ç­–ç•¥** - æ”¯æŒå¤šç§å›å¤æ¨¡å¼ï¼ˆAI é™ªèŠã€æ¦‚ç‡å›å¤ã€å›ºå®šè¯æœ¯ã€æœåŠ¡è‡ªåŠ¨å›å¤ï¼‰
- âœ… **ç›‘æ§é¢„è­¦ç³»ç»Ÿ** - å®æ—¶ç›‘æ§ç³»ç»ŸæŒ‡æ ‡ï¼Œæ”¯æŒè§„åˆ™é…ç½®å’Œåˆ†çº§å‘Šè­¦
- âœ… **ä¼šè¯ç®¡ç†** - æ”¯æŒä¼šè¯è¿½è¸ªã€äººå·¥æ¥ç®¡ã€ä¸Šä¸‹æ–‡ç®¡ç†
- âœ… **æ•°æ®è®°å½•** - å®Œæ•´è®°å½•æ‰€æœ‰äº¤äº’æ•°æ®ï¼Œæ”¯æŒå¯¼å‡ºå’Œè…¾è®¯æ–‡æ¡£åŒæ­¥
- âœ… **ç®¡ç†åå°** - ç°ä»£åŒ– Web ç•Œé¢ï¼Œæ”¯æŒå®æ—¶ç›‘æ§å’Œé…ç½®ç®¡ç†

---

## äºŒã€ç³»ç»Ÿæ¶æ„

### 2.1 æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    WorkTool AI ä¸­æ¢ç³»ç»Ÿ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚   ä¼ä¸šå¾®ä¿¡å¹³å°   â”‚     â”‚   ç®¡ç†åå°å‰ç«¯   â”‚                 â”‚
â”‚  â”‚                  â”‚     â”‚   (Next.js 16)   â”‚                 â”‚
â”‚  â”‚ â€¢ ç¾¤æ¶ˆæ¯         â”‚â—€â”€â”€â”€â”€â”¤                  â”‚                 â”‚
â”‚  â”‚ â€¢ ç§èŠæ¶ˆæ¯       â”‚     â”‚ â€¢ ç›‘æ§ä»ªè¡¨ç›˜     â”‚                 â”‚
â”‚  â”‚ â€¢ æœºå™¨äººçŠ¶æ€     â”‚     â”‚ â€¢ ä¼šè¯ç®¡ç†       â”‚                 â”‚
â”‚  â”‚ â€¢ æ‰§è¡Œç»“æœ       â”‚     â”‚ â€¢ é…ç½®ç®¡ç†       â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚           â”‚                       â”‚                            â”‚
â”‚           â”‚ Webhook               â”‚ HTTP API                  â”‚
â”‚           â”‚                       â”‚                            â”‚
â”‚           â–¼                       â–¼                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  åç«¯æœåŠ¡ (Node.js 18+)                  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ å›è°ƒæ¥æ”¶å±‚   â”‚  â”‚ æ¶ˆæ¯å¤„ç†å±‚   â”‚  â”‚ ä¸šåŠ¡é€»è¾‘å±‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ WorkTool   â”‚  â”‚ â€¢ å»é‡       â”‚  â”‚ â€¢ AI æœåŠ¡    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚   Callback   â”‚  â”‚ â€¢ è§£æ       â”‚  â”‚ â€¢ å†³ç­–æœåŠ¡   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ ç­¾åæ ¡éªŒ   â”‚  â”‚ â€¢ è·¯ç”±       â”‚  â”‚ â€¢ ä¼šè¯ç®¡ç†   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ å¹‚ç­‰å¤„ç†   â”‚  â”‚ â€¢ ä¸Šä¸‹æ–‡     â”‚  â”‚ â€¢ ç›‘æ§é¢„è­¦   â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚                       â”‚                            â”‚
â”‚           â–¼                       â–¼                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PostgreSQL   â”‚     â”‚    Redis     â”‚     â”‚  Object Storeâ”‚   â”‚
â”‚  â”‚              â”‚     â”‚              â”‚     â”‚   (OSS/S3)   â”‚   â”‚
â”‚  â”‚ â€¢ ä¼šè¯æ•°æ®   â”‚     â”‚ â€¢ ç¼“å­˜       â”‚     â”‚ â€¢ æ–‡ä»¶å­˜å‚¨   â”‚   â”‚
â”‚  â”‚ â€¢ æ¶ˆæ¯è®°å½•   â”‚     â”‚ â€¢ ä¼šè¯ç»Ÿè®¡   â”‚     â”‚ â€¢ å›¾ç‰‡å­˜å‚¨   â”‚   â”‚
â”‚  â”‚ â€¢ é…ç½®æ•°æ®   â”‚     â”‚ â€¢ é™æµ       â”‚     â”‚              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 åˆ†å±‚æ¶æ„

| å±‚çº§ | ç»„ä»¶ | æŠ€æœ¯æ ˆ | èŒè´£ |
|------|------|--------|------|
| **æ¥å…¥å±‚** | WorkTool Callbackã€Admin API | Fastify 5 | ç»Ÿä¸€æ¥å…¥ç‚¹ï¼Œå¤„ç† Webhook å’Œ API è¯·æ±‚ |
| **ä¸šåŠ¡é€»è¾‘å±‚** | AI Serviceã€Decision Serviceã€Session Service | Node.js 18+ | æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å¤„ç† |
| **æ•°æ®è®¿é—®å±‚** | Drizzle ORMã€SessionMessageService | PostgreSQLã€Drizzle ORM | æ•°æ®æŒä¹…åŒ–å’ŒæŸ¥è¯¢ |
| **ç¼“å­˜å±‚** | Redisã€MessageCacheService | Redis | ç¼“å­˜ä¼šè¯æ•°æ®ã€ç»Ÿè®¡ä¿¡æ¯ |
| **å‰ç«¯å±‚** | Next.js 16ã€React 19 | Next.jsã€shadcn/ui | ç”¨æˆ·ç•Œé¢å’Œäº¤äº’ |

### 2.3 æ ¸å¿ƒæœåŠ¡ä¾èµ–å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ ¸å¿ƒæœåŠ¡ä¾èµ–å›¾                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MessageProcessingService (æ¶ˆæ¯å¤„ç†)
    â†“
    â”œâ”€ SessionMessageService (æ¶ˆæ¯ä¿å­˜)
    â”‚   â†“
    â”‚   â”œâ”€ MessageCacheService (ç¼“å­˜ç®¡ç†)
    â”‚   â””â”€ PostgreSQL (æ•°æ®æŒä¹…åŒ–)
    â”‚
    â”œâ”€ StaffIdentifierService (å·¥ä½œäººå‘˜è¯†åˆ«)
    â”‚   â””â”€ StaffTrackerService (å·¥ä½œäººå‘˜è¿½è¸ª)
    â”‚
    â”œâ”€ CollabDecisionService (ååŒå†³ç­–)
    â”‚   â””â”€ CollaborationService
    â”‚
    â””â”€ AIService (AI æœåŠ¡)
        â”œâ”€ DoubaoService (è±†åŒ…)
        â”œâ”€ DeepSeekService (æ·±åº¦æ±‚ç´¢)
        â””â”€ KimiService (Kimi)

FlowEngineService (æµç¨‹å¼•æ“)
    â†“
    â”œâ”€ SessionMessageService (æ¶ˆæ¯ä¿å­˜ã€å†å²åŠ è½½)
    â”œâ”€ MessageCacheService (ç¼“å­˜æŸ¥è¯¢)
    â””â”€ ContextHelper (ä¸Šä¸‹æ–‡å·¥å…·)

MonitorService (ç›‘æ§æœåŠ¡)
    â†“
    â”œâ”€ AlertService (é¢„è­¦æœåŠ¡)
    â””â”€ ReportService (æŠ¥å‘ŠæœåŠ¡)
```

---

## ä¸‰ã€æ ¸å¿ƒåŠŸèƒ½æ¿å—

### 3.1 å›è°ƒå¯¹æ¥ä¸­å¿ƒ

#### åŠŸèƒ½æè¿°
æä¾› 4 ç±»ç»Ÿä¸€çš„å›è°ƒæ¥å£ï¼Œå¯¹æ¥ä¼ä¸šå¾®ä¿¡å¹³å°ã€‚

#### æ¥å£åˆ—è¡¨

| æ¥å£ | è·¯å¾„ | ç”¨é€” |
|------|------|------|
| æ¶ˆæ¯å›è°ƒ | `/api/worktool/callback/message` | å¤„ç†ç¾¤æ¶ˆæ¯ã€ç§èŠæ¶ˆæ¯ã€@æœºå™¨äºº |
| æ‰§è¡Œç»“æœå›è°ƒ | `/api/worktool/callback/action-result` | å¤„ç†æŒ‡ä»¤æ‰§è¡Œç»“æœ |
| ç¾¤äºŒç»´ç å›è°ƒ | `/api/worktool/callback/group-qrcode` | å¤„ç†ç¾¤äºŒç»´ç ç”Ÿæˆå’Œæ›´æ–° |
| æœºå™¨äººçŠ¶æ€å›è°ƒ | `/api/worktool/callback/robot-status` | å¤„ç†æœºå™¨äººä¸Šä¸‹çº¿äº‹ä»¶ |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… ç­¾åæ ¡éªŒï¼ˆé˜²ä¼ªé€ ï¼‰
- âœ… å¹‚ç­‰å¤„ç†ï¼ˆé˜²é‡å¤ï¼‰
- âœ… å»é‡æœºåˆ¶
- âœ… æ ¼å¼åŒ–å¤„ç†
- âœ… é”™è¯¯æ—¥å¿—è®°å½•

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/routes/worktool.callback.js`
- **å‰ç«¯**: `src/app/callback-debug/page.tsx`

#### å‰ç«¯å®ç°çŠ¶å†µ
- âœ… **å·²å®ç°** - å›è°ƒè°ƒè¯•é¡µé¢ï¼Œæ”¯æŒæŸ¥çœ‹å’Œæµ‹è¯•å›è°ƒæ¥å£
- âœ… **å·²å®ç°** - å›è°ƒåœ°å€å±•ç¤ºå’Œå¤åˆ¶åŠŸèƒ½

---

### 3.2 æ„å›¾è¯†åˆ«ç³»ç»Ÿ

#### åŠŸèƒ½æè¿°
AI è‡ªåŠ¨åˆ†æç”¨æˆ·æ¶ˆæ¯ï¼Œè¯†åˆ«æ„å›¾ç±»å‹ï¼Œè§¦å‘ä¸åŒçš„å¤„ç†ç­–ç•¥ã€‚

#### æ„å›¾ç±»å‹

| æ„å›¾ç±»å‹ | è¯´æ˜ | å¤„ç†æ–¹å¼ |
|---------|------|---------|
| `chat` | é—²èŠã€é—®å€™ | AI é™ªèŠ / æ¦‚ç‡å›å¤ / ä¸å›å¤ |
| `service` | æœåŠ¡å’¨è¯¢ã€é—®é¢˜æ±‚åŠ© | AI è‡ªåŠ¨å›å¤ |
| `help` | å¸®åŠ©è¯·æ±‚ã€ä½¿ç”¨è¯´æ˜ | AI è‡ªåŠ¨å›å¤ |
| `risk` | é£é™©å†…å®¹ã€æ•æ„Ÿè¯é¢˜ | å¼ºåˆ¶è½¬äººå·¥ |
| `spam` | åƒåœ¾ä¿¡æ¯ã€å¹¿å‘Š | ä¸å›å¤ / ç§»é™¤ç”¨æˆ· |
| `welcome` | æ¬¢è¿è¯­ã€æ–°äººæ‰“æ‹›å‘¼ | AI è‡ªåŠ¨å›å¤ |
| `admin` | ç®¡ç†æŒ‡ä»¤ã€ç³»ç»Ÿé…ç½® | ç‰¹æ®Šå¤„ç† |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… AI è‡ªåŠ¨è¯†åˆ«ï¼ˆæ”¯æŒè±†åŒ…ã€DeepSeekã€Kimiï¼‰
- âœ… æ„å›¾ç½®ä¿¡åº¦è¯„åˆ†
- âœ… è‡ªå®šä¹‰æ„å›¾é…ç½®
- âœ… æ„å›¾ç»Ÿè®¡å’Œåˆ†æ

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/services/ai.service.js`
- **å‰ç«¯**: `src/components/ai/IntentConfigDialog.tsx`
- **API**: `server/routes/intent-config.api.js`

#### å‰ç«¯å®ç°çŠ¶å†µ
- âœ… **å·²å®ç°** - æ„å›¾é…ç½®å¯¹è¯æ¡†
- âœ… **å·²å®ç°** - æ„å›¾ç»Ÿè®¡å±•ç¤º
- âš ï¸ **éƒ¨åˆ†å®ç°** - æ„å›¾è®­ç»ƒåŠŸèƒ½æœªå®Œå…¨å®ç°

---

### 3.3 è‡ªåŠ¨å›å¤ç­–ç•¥

#### åŠŸèƒ½æè¿°
æ ¹æ®ç”¨æˆ·æ„å›¾å’Œé…ç½®ç­–ç•¥ï¼Œè‡ªåŠ¨ç”Ÿæˆå›å¤å†…å®¹ã€‚

#### å›å¤æ¨¡å¼

| æ¨¡å¼ | ç±»å‹ | é…ç½®é¡¹ | è¯´æ˜ |
|------|------|--------|------|
| **é—²èŠæ¨¡å¼** | `none` | æ—  | ä¸å›å¤ |
| | `probability` | æ¦‚ç‡å€¼ï¼ˆ0-100ï¼‰ | æ¦‚ç‡å›å¤ |
| | `fixed` | å›ºå®šè¯æœ¯ | è¿”å›å›ºå®šå›å¤ |
| | `ai` | AI æ¨¡å‹ | AI è‡ªç„¶é™ªèŠ |
| **æœåŠ¡æ¨¡å¼** | `auto` | AI æ¨¡å‹ | AI è‡ªåŠ¨å›å¤ |
| **é£é™©æ¨¡å¼** | `human` | äººå·¥å®¢æœ | å¼ºåˆ¶è½¬äººå·¥ |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… å¤šç§å›å¤ç­–ç•¥
- âœ… æ”¯æŒ AI é™ªèŠï¼ˆè±†åŒ…ã€DeepSeekã€Kimiï¼‰
- âœ… æ¦‚ç‡å›å¤é…ç½®
- âœ… å›ºå®šè¯æœ¯ç®¡ç†
- âœ… äººå·¥æ¥ç®¡è§¦å‘

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/services/ai.service.js`, `server/services/decision.service.js`
- **å‰ç«¯**: `src/app/settings/ai/page.tsx`
- **API**: `server/routes/ai-module.api.js`

#### å‰ç«¯å®ç°çŠ¶å†µ
- âœ… **å·²å®ç°** - AI é…ç½®é¡µé¢
- âœ… **å·²å®ç°** - è‡ªåŠ¨å›å¤ç­–ç•¥é…ç½®
- âœ… **å·²å®ç°** - è¯æœ¯ç®¡ç†
- âš ï¸ **éƒ¨åˆ†å®ç°** - AI æ¨¡å‹åˆ‡æ¢åŠŸèƒ½æœªå®Œå…¨å®ç°

---

### 3.4 ç›‘æ§é¢„è­¦ç³»ç»Ÿ

#### åŠŸèƒ½æè¿°
å®æ—¶ç›‘æ§ç³»ç»ŸæŒ‡æ ‡ï¼Œæ”¯æŒè§„åˆ™é…ç½®å’Œåˆ†çº§å‘Šè­¦ã€‚

#### ç›‘æ§æŒ‡æ ‡

| æŒ‡æ ‡ç±»å‹ | å…·ä½“æŒ‡æ ‡ | æ•°æ®æº |
|---------|---------|--------|
| **ç³»ç»Ÿçº§æŒ‡æ ‡** | å›è°ƒæ¥æ”¶æ•°ã€å¤„ç†æ•°ã€é”™è¯¯æ•°ã€AI è¯·æ±‚æ¬¡æ•° | ç³»ç»Ÿæ—¥å¿—ã€ç¼“å­˜ç»Ÿè®¡ |
| **ç¾¤çº§æŒ‡æ ‡** | æ¶ˆæ¯æ•°ã€æ´»è·ƒåº¦ã€å›å¤æ•° | session_messages è¡¨ |
| **ç”¨æˆ·çº§æŒ‡æ ‡** | å‘è¨€æ¬¡æ•°ã€æ´»è·ƒåº¦ã€äº’åŠ¨æ¬¡æ•° | session_messages è¡¨ |
| **AI æŒ‡æ ‡** | æˆåŠŸç‡ã€å¤±è´¥ç‡ã€å“åº”æ—¶é—´ã€Token æ¶ˆè€— | ai_io_logs è¡¨ |
| **æœºå™¨äººæŒ‡æ ‡** | åœ¨çº¿çŠ¶æ€ã€è´Ÿè½½ã€æ¶ˆæ¯å¤„ç†æ•° | robots è¡¨ã€ç¼“å­˜ |

#### é¢„è­¦è§„åˆ™

| è§„åˆ™åç§° | è§¦å‘æ¡ä»¶ | å‘Šè­¦åŠ¨ä½œ |
|---------|---------|---------|
| æœºå™¨äººæ‰çº¿å‘Šè­¦ | æœºå™¨äººçŠ¶æ€å˜ä¸º offline | å‘é€æ¶ˆæ¯ã€æ ‡è®°ä¼šè¯ã€å…³é—­ AI |
| é”™è¯¯ç‡è¿‡é«˜å‘Šè­¦ | é”™è¯¯ç‡è¶…è¿‡é˜ˆå€¼ï¼ˆé»˜è®¤ 10%ï¼‰ | å‘é€æ¶ˆæ¯ã€æ ‡è®°ä¼šè¯ |
| åƒåœ¾ä¿¡æ¯å‘Šè­¦ | æ£€æµ‹åˆ°å¤§é‡åƒåœ¾ä¿¡æ¯ | å‘é€æ¶ˆæ¯ã€æ ‡è®°ä¼šè¯ |
| AI å¼‚å¸¸å‘Šè­¦ | AI è¿ç»­å¤±è´¥ N æ¬¡ | å‘é€æ¶ˆæ¯ã€æ ‡è®°ä¼šè¯ |
| ç³»ç»Ÿè´Ÿè½½å‘Šè­¦ | CPU/å†…å­˜ä½¿ç”¨ç‡è¿‡é«˜ | å‘é€æ¶ˆæ¯ã€æ ‡è®°ä¼šè¯ |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… å®æ—¶ç›‘æ§ä»ªè¡¨ç›˜
- âœ… è‡ªå®šä¹‰é¢„è­¦è§„åˆ™
- âœ… å¤šçº§å‘Šè­¦ï¼ˆä½ã€ä¸­ã€é«˜ï¼‰
- âœ… å¤šæ¸ é“é€šçŸ¥ï¼ˆä¼ä¸šå¾®ä¿¡ã€é‚®ä»¶ï¼‰
- âœ… å‘Šè­¦å†å²è®°å½•
- âœ… å‘Šè­¦ç»Ÿè®¡å’Œåˆ†æ

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/services/monitor.service.js`, `server/services/alert.service.js`
- **å‰ç«¯**: `src/components/monitoring-tab.tsx`, `src/components/monitor-tab.tsx`
- **API**: `server/routes/monitoring.api.js`, `server/routes/alert-config.api.js`

#### å‰ç«¯å®ç°çŠ¶å†µ
- âœ… **å·²å®ç°** - ç›‘æ§ä»ªè¡¨ç›˜
- âœ… **å·²å®ç°** - ä¸šåŠ¡æ¶ˆæ¯ç›‘æ§
- âœ… **å·²å®ç°** - AI äº¤äº’ç›‘æ§
- âœ… **å·²å®ç°** - é¢„è­¦è§„åˆ™é…ç½®
- âœ… **å·²å®ç°** - å‘Šè­¦å†å²æŸ¥çœ‹
- âœ… **å·²å®ç°** - å‘Šè­¦ç»Ÿè®¡é¡µé¢
- âœ… **å·²å®ç°** - Token ç»Ÿè®¡å¡ç‰‡

---

### 3.5 ä¼šè¯ç®¡ç†ç³»ç»Ÿ

#### åŠŸèƒ½æè¿°
ç®¡ç†ç”¨æˆ·ä¸ AI çš„å¯¹è¯ä¼šè¯ï¼Œæ”¯æŒä¼šè¯è¿½è¸ªã€äººå·¥æ¥ç®¡ã€ä¸Šä¸‹æ–‡ç®¡ç†ã€‚

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ | æ•°æ®æº |
|------|------|--------|
| ä¼šè¯åˆ—è¡¨ | æ˜¾ç¤ºæ‰€æœ‰æ´»è·ƒä¼šè¯ | session_messages è¡¨èšåˆ |
| ä¼šè¯è¯¦æƒ… | æŸ¥çœ‹ä¼šè¯çš„å†å²æ¶ˆæ¯ | session_messages è¡¨ |
| ä¼šè¯æœç´¢ | æŒ‰ç”¨æˆ·åã€ç¾¤ç»„åæœç´¢ | session_messages è¡¨ |
| ä¼šè¯ç­›é€‰ | æŒ‰çŠ¶æ€ã€æ„å›¾ç­›é€‰ | session_messages è¡¨ |
| äººå·¥æ¥ç®¡ | å°†ä¼šè¯çŠ¶æ€æ”¹ä¸º human | session_messages è¡¨ + æ‰‹åŠ¨ç®¡ç† |
| æ¶ˆæ¯å‘é€ | äººå·¥å‘é€æ¶ˆæ¯ | session_messages è¡¨ |
| ä¼šè¯ç»Ÿè®¡ | æ¶ˆæ¯æ•°ã€AI å›å¤æ•°ã€äººå·¥å›å¤æ•° | session_messages è¡¨èšåˆ |

#### ä¼šè¯çŠ¶æ€

| çŠ¶æ€ | è¯´æ˜ | å¤„ç†æ–¹å¼ |
|------|------|---------|
| `auto` | è‡ªåŠ¨æ¨¡å¼ | AI è‡ªåŠ¨å›å¤ |
| `human` | äººå·¥æ¨¡å¼ | äººå·¥å®¢æœå›å¤ |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… ä¼šè¯ç”Ÿå‘½å‘¨æœŸç®¡ç†
- âœ… ä¸Šä¸‹æ–‡åŠ è½½å’Œç¼“å­˜
- âœ… äººå·¥æ¥ç®¡åŠŸèƒ½
- âœ… ä¼šè¯æœç´¢å’Œç­›é€‰
- âœ… ä¼šè¯ç»Ÿè®¡å’Œåˆ†æ
- âœ… å®æ—¶æ¶ˆæ¯æ¨é€ï¼ˆWebSocketï¼‰

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/services/session-message.service.js`, `server/services/session.service.js`
- **å‰ç«¯**: `src/components/business-message-monitor.tsx`, `src/app/page.tsx` (SessionsTab)
- **API**: `server/routes/admin.api.js`

#### å‰ç«¯å®ç°çŠ¶å†µ
- âœ… **å·²å®ç°** - ä¼šè¯åˆ—è¡¨å±•ç¤º
- âœ… **å·²å®ç°** - ä¼šè¯è¯¦æƒ…æŸ¥çœ‹
- âœ… **å·²å®ç°** - ä¼šè¯æœç´¢åŠŸèƒ½
- âœ… **å·²å®ç°** - ä¼šè¯ç­›é€‰åŠŸèƒ½
- âœ… **å·²å®ç°** - ä¼šè¯ç»Ÿè®¡å±•ç¤º
- âš ï¸ **éƒ¨åˆ†å®ç°** - äººå·¥æ¥ç®¡åŠŸèƒ½ UI å·²å®ç°ï¼Œåç«¯é€»è¾‘éœ€å®Œå–„
- âš ï¸ **éƒ¨åˆ†å®ç°** - å®æ—¶æ¶ˆæ¯æ¨é€åŠŸèƒ½æœªå®Œå…¨å®ç°

---

### 3.6 æ¶ˆæ¯ä¸­å¿ƒä¸ä¸Šä¸‹æ–‡ç®¡ç†

#### åŠŸèƒ½æè¿°
ç»Ÿä¸€ç®¡ç†ç”¨æˆ·ã€æœºå™¨äººã€äººå·¥æ¶ˆæ¯çš„ä¿å­˜å’ŒæŸ¥è¯¢ï¼Œæä¾›ä¼šè¯ä¸Šä¸‹æ–‡åŠ è½½èƒ½åŠ›ã€‚

#### æ•°æ®æ¨¡å‹

| è¡¨å | ç”¨é€” | æ ¸å¿ƒå­—æ®µ |
|------|------|---------|
| `session_messages` | ä¼šè¯æ¶ˆæ¯ | session_id, is_from_user, is_from_bot, is_human |
| `staff_messages` | å·¥ä½œäººå‘˜æ¶ˆæ¯ | staff_id, content, timestamp |

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ | å®ç°æ–‡ä»¶ |
|------|------|---------|
| ä¿å­˜ç”¨æˆ·æ¶ˆæ¯ | ä¿å­˜ç”¨æˆ·å‘é€çš„æ¶ˆæ¯ | SessionMessageService.saveUserMessage() |
| ä¿å­˜æœºå™¨äººæ¶ˆæ¯ | ä¿å­˜ AI å›å¤çš„æ¶ˆæ¯ | SessionMessageService.saveBotMessage() |
| ä¿å­˜äººå·¥æ¶ˆæ¯ | ä¿å­˜äººå·¥å®¢æœçš„æ¶ˆæ¯ | SessionMessageService.saveHumanMessage() |
| æŸ¥è¯¢ä¼šè¯æ¶ˆæ¯ | æŸ¥è¯¢ä¼šè¯çš„å†å²æ¶ˆæ¯ | SessionMessageService.getSessionMessages() |
| ä¼šè¯ç»Ÿè®¡ | ç»Ÿè®¡ä¼šè¯çš„æ¶ˆæ¯æ•°é‡ | SessionMessageService.getSessionStats() |
| è·å–æ´»è·ƒä¼šè¯ | è·å–æœ€è¿‘æ´»è·ƒçš„ä¼šè¯åˆ—è¡¨ | SessionMessageService.getActiveSessions() |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… ç»Ÿä¸€æ¶ˆæ¯ä¿å­˜æ¥å£
- âœ… æ¶ˆæ¯ç¼“å­˜ç®¡ç†
- âœ… ä¼šè¯ç»Ÿè®¡èšåˆ
- âœ… å†å²æ¶ˆæ¯åŠ è½½
- âœ… æ¶ˆæ¯å»é‡å’Œå¹‚ç­‰

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/services/session-message.service.js`, `server/services/message-cache.service.js`
- **å‰ç«¯**: `src/components/business-message-monitor.tsx`
- **API**: `server/routes/admin.api.js`

#### å‰ç«¯å®ç°çŠ¶å†µ
- âœ… **å·²å®ç°** - æ¶ˆæ¯åˆ—è¡¨å±•ç¤º
- âœ… **å·²å®ç°** - æ¶ˆæ¯è¯¦æƒ…æŸ¥çœ‹
- âœ… **å·²å®ç°** - æ¶ˆæ¯ç»Ÿè®¡å±•ç¤º
- âœ… **å·²å®ç°** - æ¶ˆæ¯æœç´¢åŠŸèƒ½

---

### 3.7 æœºå™¨äººç®¡ç†ç³»ç»Ÿ

#### åŠŸèƒ½æè¿°
ç®¡ç†ä¼ä¸šå¾®ä¿¡æœºå™¨äººï¼Œæ”¯æŒå¤šæœºå™¨äººã€åˆ†ç»„ç®¡ç†ã€è§’è‰²ç®¡ç†ã€‚

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ | æ•°æ®æº |
|------|------|--------|
| æœºå™¨äººåˆ—è¡¨ | æ˜¾ç¤ºæ‰€æœ‰æœºå™¨äºº | robots è¡¨ |
| æœºå™¨äººè¯¦æƒ… | æŸ¥çœ‹æœºå™¨äººçš„è¯¦ç»†ä¿¡æ¯ | robots è¡¨ + ç»Ÿè®¡æ•°æ® |
| æœºå™¨äººåˆ†ç»„ | æŒ‰åˆ†ç»„ç®¡ç†æœºå™¨äºº | robots è¡¨ + robot_groups è¡¨ |
| æœºå™¨äººè§’è‰² | é…ç½®æœºå™¨äººçš„è§’è‰²å’Œæƒé™ | robots è¡¨ + robot_roles è¡¨ |
| æœºå™¨äººæŒ‡ä»¤ | å‘é€æŒ‡ä»¤ç»™æœºå™¨äºº | robot_commands è¡¨ |
| æœºå™¨äººç›‘æ§ | å®æ—¶ç›‘æ§æœºå™¨äººçŠ¶æ€ | robots è¡¨ + ç¼“å­˜ |

#### æœºå™¨äººçŠ¶æ€

| çŠ¶æ€ | è¯´æ˜ |
|------|------|
| `online` | åœ¨çº¿ |
| `offline` | ç¦»çº¿ |
| `busy` | å¿™ç¢Œ |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… å¤šæœºå™¨äººç®¡ç†
- âœ… åˆ†ç»„ç®¡ç†
- âœ… è§’è‰²ç®¡ç†
- âœ… æŒ‡ä»¤å‘é€
- âœ… å®æ—¶ç›‘æ§
- âœ… è´Ÿè½½å‡è¡¡

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/services/robot.service.js`, `server/services/robot-command.service.js`
- **å‰ç«¯**: `src/components/robot/robot-management-integrated.tsx`
- **API**: `server/routes/worktool-robot.api.js`, `server/routes/robot-command.api.js`, `server/routes/robot-groups.api.js`, `server/routes/robot-roles.api.js`

#### å‰ç«¯å®ç°çŠ¶å†µ
- âœ… **å·²å®ç°** - æœºå™¨äººåˆ—è¡¨å±•ç¤º
- âœ… **å·²å®ç°** - æœºå™¨äººè¯¦æƒ…æŸ¥çœ‹
- âœ… **å·²å®ç°** - æœºå™¨äººåˆ†ç»„ç®¡ç†
- âœ… **å·²å®ç°** - æœºå™¨äººè§’è‰²ç®¡ç†
- âœ… **å·²å®ç°** - æœºå™¨äººæŒ‡ä»¤å‘é€
- âœ… **å·²å®ç°** - æœºå™¨äººå®æ—¶ç›‘æ§
- âœ… **å·²å®ç°** - WorkTool æ¶ˆæ¯å‘é€å·¥å…·

---

### 3.8 ååŒå†³ç­–ç³»ç»Ÿ

#### åŠŸèƒ½æè¿°
æ”¯æŒå¤šæœºå™¨äººååŒã€äººå·¥ä»‹å…¥ã€æ™ºèƒ½å†³ç­–ã€‚

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ | å®ç°æ–‡ä»¶ |
|------|------|---------|
| å·¥ä½œäººå‘˜è¯†åˆ« | è¯†åˆ«å‘é€æ¶ˆæ¯çš„ç”¨æˆ·æ˜¯å¦ä¸ºå·¥ä½œäººå‘˜ | StaffIdentifierService |
| å·¥ä½œäººå‘˜è¿½è¸ª | è¿½è¸ªå·¥ä½œäººå‘˜çš„æ¶ˆæ¯å’ŒæŒ‡ä»¤ | StaffTrackerService |
| å·¥ä½œäººå‘˜æŒ‡ä»¤ | å¤„ç†å·¥ä½œäººå‘˜çš„ç‰¹æ®ŠæŒ‡ä»¤ | StaffCommandService |
| ååŒå†³ç­– | å¤šæœºå™¨äººååŒå†³ç­– | CollabDecisionService |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… å·¥ä½œäººå‘˜è‡ªåŠ¨è¯†åˆ«
- âœ… å·¥ä½œäººå‘˜æŒ‡ä»¤å¤„ç†
- âœ… å¤šæœºå™¨äººååŒ
- âœ… æ™ºèƒ½å†³ç­–

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/services/staff/staff-identifier.service.js`, `server/services/staff/staff-tracker.service.js`, `server/services/staff/staff-command.service.js`, `server/services/collab/collab-decision.service.js`
- **å‰ç«¯**: `src/app/collab-analytics/page.tsx`, `src/app/collab/page.tsx`
- **API**: `server/routes/collab.api.js`

#### å‰ç«¯å®ç°çŠ¶å†µ
- âœ… **å·²å®ç°** - å·¥ä½œäººå‘˜è¯†åˆ«é…ç½®é¡µé¢
- âœ… **å·²å®ç°** - ååŒåˆ†æé¡µé¢
- âœ… **å·²å®ç°** - ååŒé…ç½®é¡µé¢
- âš ï¸ **éƒ¨åˆ†å®ç°** - ååŒå†³ç­–åŠŸèƒ½åç«¯é€»è¾‘éœ€å®Œå–„

---

### 3.9 æµç¨‹å¼•æ“

#### åŠŸèƒ½æè¿°
æ”¯æŒå¯è§†åŒ–æµç¨‹é…ç½®ã€æµç¨‹æ‰§è¡Œã€æµç¨‹ç›‘æ§ã€‚

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ | å®ç°æ–‡ä»¶ |
|------|------|---------|
| æµç¨‹ç”»å¸ƒ | å¯è§†åŒ–æµç¨‹ç¼–è¾‘ | FlowCanvas |
| èŠ‚ç‚¹åº“ | æä¾›å¤šç§èŠ‚ç‚¹ç±»å‹ | FlowNodeLibrary |
| èŠ‚ç‚¹é…ç½® | é…ç½®èŠ‚ç‚¹çš„å‚æ•° | NodeConfigPanel |
| æµç¨‹æ‰§è¡Œ | æ‰§è¡Œé…ç½®çš„æµç¨‹ | FlowEngineService |
| æµç¨‹ç›‘æ§ | ç›‘æ§æµç¨‹æ‰§è¡ŒçŠ¶æ€ | ExecutionMonitor |
| æµç¨‹æµ‹è¯• | æµ‹è¯•æµç¨‹é…ç½® | FlowTestPanel |

#### èŠ‚ç‚¹ç±»å‹

| èŠ‚ç‚¹ç±»å‹ | è¯´æ˜ |
|---------|------|
| å¼€å§‹èŠ‚ç‚¹ | æµç¨‹çš„å…¥å£ |
| ç»“æŸèŠ‚ç‚¹ | æµç¨‹çš„å‡ºå£ |
| æ¡ä»¶èŠ‚ç‚¹ | æ ¹æ®æ¡ä»¶åˆ†æ”¯ |
| AI èŠ‚ç‚¹ | è°ƒç”¨ AI æœåŠ¡ |
| æœºå™¨äººèŠ‚ç‚¹ | å‘é€æœºå™¨äººæŒ‡ä»¤ |
| äººå·¥èŠ‚ç‚¹ | äººå·¥ä»‹å…¥ |
| ç›‘æ§èŠ‚ç‚¹ | ç›‘æ§æŒ‡æ ‡ |
| é£é™©å¤„ç†èŠ‚ç‚¹ | å¤„ç†é£é™© |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… å¯è§†åŒ–æµç¨‹ç¼–è¾‘
- âœ… å¤šç§èŠ‚ç‚¹ç±»å‹
- âœ… æµç¨‹æ‰§è¡Œå’Œç›‘æ§
- âœ… æµç¨‹æµ‹è¯•å’Œè°ƒè¯•
- âœ… æµç¨‹ç‰ˆæœ¬ç®¡ç†
- âœ… ä¸Šä¸‹æ–‡å¢å¼º

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/services/flow-engine.service.js`, `server/services/execution-tracker.service.js`
- **å‰ç«¯**: `src/app/flow-engine/page.tsx`
- **API**: `server/routes/flow-engine.api.js`

#### å‰ç«¯å®ç°çŠ¶å†µ
- âœ… **å·²å®ç°** - æµç¨‹ç”»å¸ƒ
- âœ… **å·²å®ç°** - èŠ‚ç‚¹åº“
- âœ… **å·²å®ç°** - èŠ‚ç‚¹é…ç½®
- âœ… **å·²å®ç°** - æµç¨‹æ‰§è¡Œ
- âœ… **å·²å®ç°** - æµç¨‹ç›‘æ§
- âœ… **å·²å®ç°** - æµç¨‹æµ‹è¯•
- âœ… **å·²å®ç°** - æµç¨‹ç‰ˆæœ¬ç®¡ç†
- âœ… **å·²å®ç°** - ä¸Šä¸‹æ–‡å¯è§†åŒ–
- âœ… **å·²å®ç°** - ä¸Šä¸‹æ–‡è°ƒè¯•é¢æ¿
- âš ï¸ **éƒ¨åˆ†å®ç°** - æµç¨‹å¼•æ“åç«¯é€»è¾‘éœ€å®Œå–„

---

### 3.10 é£é™©ç®¡ç†ç³»ç»Ÿ

#### åŠŸèƒ½æè¿°
è¯†åˆ«å’Œå¤„ç†é£é™©å†…å®¹ï¼Œæä¾›é£é™©ç›‘æ§å’Œé¢„è­¦ã€‚

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ | å®ç°æ–‡ä»¶ |
|------|------|---------|
| é£é™©è¯†åˆ« | è¯†åˆ«æ¶ˆæ¯ä¸­çš„é£é™©å†…å®¹ | RiskMonitorService |
| é£é™©å¤„ç† | å¤„ç†é£é™©æ¶ˆæ¯ | RiskHandlerService |
| äººå·¥é€šçŸ¥ | é€šçŸ¥äººå·¥å¤„ç†é£é™© | NotifyHumanService |
| é£é™©ç»Ÿè®¡ | ç»Ÿè®¡é£é™©æ•°æ® | ç»Ÿè®¡æœåŠ¡ |

#### é£é™©ç±»å‹

| é£é™©ç±»å‹ | è¯´æ˜ | å¤„ç†æ–¹å¼ |
|---------|------|---------|
| æ•æ„Ÿè¯é¢˜ | æ”¿æ²»ã€å®—æ•™ç­‰æ•æ„Ÿå†…å®¹ | å¼ºåˆ¶è½¬äººå·¥ |
| åƒåœ¾ä¿¡æ¯ | å¹¿å‘Šã€åƒåœ¾æ¶ˆæ¯ | ä¸å›å¤ |
| æ¶æ„æ”»å‡» | æ”»å‡»æ€§è¯­è¨€ | å¼ºåˆ¶è½¬äººå·¥ |
| ç³»ç»Ÿé£é™© | ç³»ç»Ÿå¼‚å¸¸ã€é”™è¯¯ | äººå·¥ä»‹å…¥ |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… é£é™©è‡ªåŠ¨è¯†åˆ«
- âœ… é£é™©è‡ªåŠ¨å¤„ç†
- âœ… äººå·¥é€šçŸ¥
- âœ… é£é™©ç»Ÿè®¡

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/services/risk/risk-monitor.service.js`, `server/services/risk/risk-handler.service.js`, `server/services/risk/notify-human.service.js`
- **å‰ç«¯**: æ— ç‹¬ç«‹é¡µé¢ï¼ˆé›†æˆåœ¨ä¸šåŠ¡æ¶ˆæ¯ç›‘æ§ä¸­ï¼‰
- **API**: `server/routes/risk.api.js`

#### å‰ç«¯å®ç°çŠ¶å†µ
- âš ï¸ **éƒ¨åˆ†å®ç°** - é£é™©è¯†åˆ«åŠŸèƒ½åç«¯å·²å®ç°ï¼Œå‰ç«¯ UI éœ€å®Œå–„

---

### 3.11 çŸ¥è¯†åº“ç³»ç»Ÿ

#### åŠŸèƒ½æè¿°
ç®¡ç†å’ŒæŸ¥è¯¢çŸ¥è¯†åº“ï¼Œæ”¯æŒæ–‡æ¡£å¯¼å…¥å’Œè¯­ä¹‰æœç´¢ã€‚

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| æ–‡æ¡£å¯¼å…¥ | å¯¼å…¥ PDFã€Wordã€TXT ç­‰æ–‡æ¡£ |
| æ–‡æ¡£å‘é‡åŒ– | å°†æ–‡æ¡£è½¬æ¢ä¸ºå‘é‡ |
| è¯­ä¹‰æœç´¢ | åŸºäºå‘é‡æœç´¢ç›¸ä¼¼æ–‡æ¡£ |
| çŸ¥è¯†åº“ç®¡ç† | ç®¡ç†çŸ¥è¯†åº“çš„åˆ†ç±»å’Œæ ‡ç­¾ |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… æ”¯æŒå¤šç§æ–‡æ¡£æ ¼å¼
- âœ… è‡ªåŠ¨å‘é‡åŒ–
- âœ… è¯­ä¹‰æœç´¢
- âœ… çŸ¥è¯†åº“ç®¡ç†

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/services/document.service.js`
- **å‰ç«¯**: `src/app/knowledge-base/page.tsx`
- **API**: `server/routes/document.api.js`

#### å‰ç«¯å®ç°çŠ¶å†µ
- âœ… **å·²å®ç°** - çŸ¥è¯†åº“é¡µé¢
- âœ… **å·²å®ç°** - æ–‡æ¡£ä¸Šä¼ 
- âš ï¸ **éƒ¨åˆ†å®ç°** - å‘é‡åŒ–å’Œè¯­ä¹‰æœç´¢åŠŸèƒ½éœ€å®Œå–„

---

### 3.12 ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ

#### åŠŸèƒ½æè¿°
ç®¡ç†ç³»ç»Ÿç”¨æˆ·ï¼Œæ”¯æŒç”¨æˆ·ç™»å½•ã€æƒé™ç®¡ç†ã€‚

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| ç”¨æˆ·ç™»å½• | æ”¯æŒå¤šç§ç™»å½•æ–¹å¼ |
| æƒé™ç®¡ç† | ç®¡ç†ç”¨æˆ·æƒé™ |
| è§’è‰²ç®¡ç† | ç®¡ç†ç”¨æˆ·è§’è‰² |
| ä¼šè¯ç®¡ç† | ç®¡ç†ç”¨æˆ·ç™»å½•ä¼šè¯ |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… ç”¨æˆ·ç™»å½•
- âœ… æƒé™ç®¡ç†
- âœ… è§’è‰²ç®¡ç†
- âœ… ä¼šè¯ç®¡ç†

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/services/permission.service.js`
- **å‰ç«¯**: `src/components/user-management.tsx`, `src/app/admin/permissions/page.tsx`
- **API**: `server/routes/permission.api.js`

#### å‰ç«¯å®ç°çŠ¶å†µ
- âœ… **å·²å®ç°** - ç”¨æˆ·ç®¡ç†é¡µé¢
- âœ… **å·²å®ç°** - æƒé™ç®¡ç†é¡µé¢
- âœ… **å·²å®ç°** - è§’è‰²ç®¡ç†é¡µé¢
- âœ… **å·²å®ç°** - ä¼šè¯ç®¡ç†é¡µé¢

---

### 3.13 ç³»ç»Ÿæ—¥å¿—å’Œå®¡è®¡

#### åŠŸèƒ½æè¿°
è®°å½•ç³»ç»Ÿæ“ä½œæ—¥å¿—ï¼Œæ”¯æŒå®¡è®¡å’Œæ•…éšœæ’æŸ¥ã€‚

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| æ“ä½œæ—¥å¿— | è®°å½•ç”¨æˆ·æ“ä½œ |
| ç³»ç»Ÿæ—¥å¿— | è®°å½•ç³»ç»Ÿè¿è¡Œæ—¥å¿— |
| é”™è¯¯æ—¥å¿— | è®°å½•ç³»ç»Ÿé”™è¯¯ |
| æ—¥å¿—æŸ¥è¯¢ | æ”¯æŒæ—¥å¿—æœç´¢å’Œç­›é€‰ |
| æ—¥å¿—å¯¼å‡º | æ”¯æŒæ—¥å¿—å¯¼å‡º |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… æ“ä½œæ—¥å¿—è®°å½•
- âœ… ç³»ç»Ÿæ—¥å¿—è®°å½•
- âœ… é”™è¯¯æ—¥å¿—è®°å½•
- âœ… æ—¥å¿—æŸ¥è¯¢
- âœ… æ—¥å¿—å¯¼å‡º

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/services/system-logger.service.js`, `server/services/operation-log.service.js`
- **å‰ç«¯**: `src/components/system-logs.tsx`
- **API**: `server/routes/system-logs.api.js`, `server/routes/operation-logs.api.js`

#### å‰ç«¯å®ç°çŠ¶å†µ
- âœ… **å·²å®ç°** - ç³»ç»Ÿæ—¥å¿—é¡µé¢
- âœ… **å·²å®ç°** - æ“ä½œæ—¥å¿—é¡µé¢
- âœ… **å·²å®ç°** - æ—¥å¿—æŸ¥è¯¢åŠŸèƒ½
- âœ… **å·²å®ç°** - æ—¥å¿—å¯¼å‡ºåŠŸèƒ½

---

### 3.14 æ•°æ®æŠ¥å‘Šç³»ç»Ÿ

#### åŠŸèƒ½æè¿°
ç”Ÿæˆæ•°æ®æŠ¥å‘Šï¼Œæ”¯æŒå¯¼å‡ºå’ŒåŒæ­¥åˆ°è…¾è®¯æ–‡æ¡£ã€‚

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| ä¼šè¯æŠ¥å‘Š | ç”Ÿæˆä¼šè¯ç»Ÿè®¡æŠ¥å‘Š |
| æ¶ˆæ¯æŠ¥å‘Š | ç”Ÿæˆæ¶ˆæ¯ç»Ÿè®¡æŠ¥å‘Š |
| AI æŠ¥å‘Š | ç”Ÿæˆ AI ä½¿ç”¨æŠ¥å‘Š |
| æŠ¥å‘Šå¯¼å‡º | æ”¯æŒå¯¼å‡º Excel |
| è…¾è®¯æ–‡æ¡£åŒæ­¥ | åŒæ­¥åˆ°è…¾è®¯æ–‡æ¡£ |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… å¤šç§æŠ¥å‘Šç±»å‹
- âœ… æŠ¥å‘Šå¯¼å‡º
- âœ… è…¾è®¯æ–‡æ¡£åŒæ­¥

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/services/report.service.js`, `server/services/tencentdoc.service.js`
- **å‰ç«¯**: æ— ç‹¬ç«‹é¡µé¢ï¼ˆé›†æˆåœ¨ç›‘æ§é¡µé¢ä¸­ï¼‰
- **API**: æ— ç‹¬ç«‹ APIï¼ˆé›†æˆåœ¨ç›‘æ§ API ä¸­ï¼‰

#### å‰ç«¯å®ç°çŠ¶å†µ
- âš ï¸ **éƒ¨åˆ†å®ç°** - æŠ¥å‘Šç”ŸæˆåŠŸèƒ½åç«¯å·²å®ç°ï¼Œå‰ç«¯ UI éœ€å®Œå–„

---

### 3.15 é€šçŸ¥ç³»ç»Ÿ

#### åŠŸèƒ½æè¿°
ç®¡ç†ç³»ç»Ÿé€šçŸ¥ï¼Œæ”¯æŒå¤šç§é€šçŸ¥æ¸ é“ã€‚

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| é€šçŸ¥é…ç½® | é…ç½®é€šçŸ¥è§„åˆ™ |
| é€šçŸ¥å‘é€ | å‘é€é€šçŸ¥ |
| é€šçŸ¥å†å² | æŸ¥çœ‹é€šçŸ¥å†å² |

#### æ ¸å¿ƒç‰¹æ€§
- âœ… é€šçŸ¥é…ç½®
- âœ… é€šçŸ¥å‘é€
- âœ… é€šçŸ¥å†å²

#### å®ç°æ–‡ä»¶
- **åç«¯**: `server/services/notification.service.js`
- **å‰ç«¯**: `src/app/settings/notifications/page.tsx`
- **API**: `server/routes/notification.api.js`

#### å‰ç«¯å®ç°çŠ¶å†µ
- âœ… **å·²å®ç°** - é€šçŸ¥é…ç½®é¡µé¢
- âœ… **å·²å®ç°** - é€šçŸ¥å†å²æŸ¥çœ‹

---

## å››ã€å‰ç«¯å®ç°çŠ¶å†µ

### 4.1 é¡µé¢æ¸…å•

| é¡µé¢ | è·¯å¾„ | å®ç°çŠ¶å†µ | è¯´æ˜ |
|------|------|---------|------|
| ç®¡ç†åå°é¦–é¡µ | `/` | âœ… å·²å®ç° | ä¸»è¦åŠŸèƒ½é¡µé¢ |
| æ–°ä»ªè¡¨ç›˜ | `/new-dashboard` | âœ… å·²å®ç° | æ–°çš„ä»ªè¡¨ç›˜é¡µé¢ |
| æœºå™¨äººç®¡ç† | `/robot/[id]` | âœ… å·²å®ç° | æœºå™¨äººè¯¦æƒ…é¡µ |
| ç›‘æ§é¡µé¢ | `/monitoring` | âœ… å·²å®ç° | ç›‘æ§é¡µé¢ |
| ååŒé¡µé¢ | `/collab` | âœ… å·²å®ç° | ååŒé¡µé¢ |
| ååŒåˆ†æ | `/collab-analytics` | âœ… å·²å®ç° | ååŒåˆ†æé¡µé¢ |
| ååŒä¸šåŠ¡è§’è‰² | `/collab-analytics/business-role` | âœ… å·²å®ç° | ååŒä¸šåŠ¡è§’è‰²é¡µé¢ |
| çŸ¥è¯†åº“ | `/knowledge-base` | âœ… å·²å®ç° | çŸ¥è¯†åº“é¡µé¢ |
| æµç¨‹å¼•æ“ | `/flow-engine` | âœ… å·²å®ç° | æµç¨‹å¼•æ“é¡µé¢ |
| ä¸ªäººèµ„æ–™ | `/profile` | âœ… å·²å®ç° | ä¸ªäººèµ„æ–™é¡µé¢ |
| ç™»å½• | `/auth/login` | âœ… å·²å®ç° | ç™»å½•é¡µé¢ |
| æ³¨å†Œ | `/auth/register` | âœ… å·²å®ç° | æ³¨å†Œé¡µé¢ |
| å¿˜è®°å¯†ç  | `/auth/forgot-password` | âœ… å·²å®ç° | å¿˜è®°å¯†ç é¡µé¢ |
| é‡ç½®å¯†ç  | `/auth/reset-password` | âœ… å·²å®ç° | é‡ç½®å¯†ç é¡µé¢ |
| å›è°ƒè°ƒè¯• | `/callback-debug` | âœ… å·²å®ç° | å›è°ƒè°ƒè¯•é¡µé¢ |
| è®¾ç½® - AI | `/settings/ai` | âœ… å·²å®ç° | AI è®¾ç½®é¡µé¢ |
| è®¾ç½® - é€šçŸ¥ | `/settings/notifications` | âœ… å·²å®ç° | é€šçŸ¥è®¾ç½®é¡µé¢ |
| è®¾ç½® - ä¼šè¯ | `/settings/sessions` | âœ… å·²å®ç° | ä¼šè¯è®¾ç½®é¡µé¢ |
| ç®¡ç†å‘˜ - æƒé™ | `/admin/permissions` | âœ… å·²å®ç° | æƒé™ç®¡ç†é¡µé¢ |
| å‘Šè­¦ä¸­å¿ƒ | `/alerts/center` | âœ… å·²å®ç° | å‘Šè­¦ä¸­å¿ƒé¡µé¢ |
| å‘Šè­¦æ¥æ”¶äºº | `/alerts/recipients` | âœ… å·²å®ç° | å‘Šè­¦æ¥æ”¶äººé¡µé¢ |
| å‘Šè­¦è§„åˆ™ | `/alerts/rules` | âœ… å·²å®ç° | å‘Šè­¦è§„åˆ™é¡µé¢ |
| å‘Šè­¦ç»Ÿè®¡ | `/alerts/stats` | âœ… å·²å®ç° | å‘Šè­¦ç»Ÿè®¡é¡µé¢ |
| è°ƒè¯• - è®¤è¯ | `/debug/auth` | âœ… å·²å®ç° | è®¤è¯è°ƒè¯•é¡µé¢ |
| è°ƒè¯• - Cookies | `/debug/cookies` | âœ… å·²å®ç° | Cookies è°ƒè¯•é¡µé¢ |
| è°ƒè¯• - é‡å®šå‘ | `/debug/redirect-test` | âœ… å·²å®ç° | é‡å®šå‘æµ‹è¯•é¡µé¢ |
| è°ƒè¯• - æœºå™¨äºº | `/debug/robots` | âœ… å·²å®ç° | æœºå™¨äººè°ƒè¯•é¡µé¢ |
| æµ‹è¯• - ç›´æ¥ç›‘æ§ | `/test-monitor-direct` | âœ… å·²å®ç° | ç›´æ¥ç›‘æ§æµ‹è¯•é¡µé¢ |
| æµ‹è¯• - ç›‘æ§æŒ‡æ ‡ | `/test-monitor-metrics` | âœ… å·²å®ç° | ç›‘æ§æŒ‡æ ‡æµ‹è¯•é¡µé¢ |
| æµ‹è¯• - ç®€å•ç›‘æ§ | `/test-simple-monitor` | âœ… å·²å®ç° | ç®€å•ç›‘æ§æµ‹è¯•é¡µé¢ |

### 4.2 ç»„ä»¶æ¸…å•

| ç»„ä»¶ | è·¯å¾„ | å®ç°çŠ¶å†µ | è¯´æ˜ |
|------|------|---------|------|
| æœºå™¨äººç®¡ç† | `src/components/robot-management.tsx` | âœ… å·²å®ç° | æœºå™¨äººç®¡ç†ç»„ä»¶ |
| æœºå™¨äººç®¡ç†é›†æˆ | `src/components/robot/robot-management-integrated.tsx` | âœ… å·²å®ç° | æœºå™¨äººç®¡ç†é›†æˆç»„ä»¶ |
| å¢å¼ºæœºå™¨äººç®¡ç† | `src/components/robot/enhanced-robot-management.tsx` | âœ… å·²å®ç° | å¢å¼ºæœºå™¨äººç®¡ç†ç»„ä»¶ |
| WorkTool æ¶ˆæ¯å‘é€ | `src/components/robot/worktool-message-sender.tsx` | âœ… å·²å®ç° | WorkTool æ¶ˆæ¯å‘é€ç»„ä»¶ |
| ä¸šåŠ¡æ¶ˆæ¯ç›‘æ§ | `src/components/business-message-monitor.tsx` | âœ… å·²å®ç° | ä¸šåŠ¡æ¶ˆæ¯ç›‘æ§ç»„ä»¶ |
| AI äº¤äº’ç›‘æ§ | `src/components/ai-interaction-monitor.tsx` | âœ… å·²å®ç° | AI äº¤äº’ç›‘æ§ç»„ä»¶ |
| ç›‘æ§ Tab | `src/components/monitoring-tab.tsx` | âœ… å·²å®ç° | ç›‘æ§ Tab ç»„ä»¶ |
| Monitor Tab | `src/components/monitor-tab.tsx` | âœ… å·²å®ç° | Monitor Tab ç»„ä»¶ |
| å®æ—¶ IO Tab | `src/components/realtime-io-tab.tsx` | âœ… å·²å®ç° | å®æ—¶ IO Tab ç»„ä»¶ |
| ç³»ç»Ÿæ—¥å¿— | `src/components/system-logs.tsx` | âœ… å·²å®ç° | ç³»ç»Ÿæ—¥å¿—ç»„ä»¶ |
| è®¾ç½® Tab | `src/components/settings-tab.tsx` | âœ… å·²å®ç° | è®¾ç½® Tab ç»„ä»¶ |
| AI æ¨¡å— | `src/components/ai-module.tsx` | âœ… å·²å®ç° | AI æ¨¡å—ç»„ä»¶ |
| æµç¨‹å¼•æ“ç®¡ç† | `src/components/flow-engine-manage.tsx` | âœ… å·²å®ç° | æµç¨‹å¼•æ“ç®¡ç†ç»„ä»¶ |
| ç”¨æˆ·ç®¡ç† | `src/components/user-management.tsx` | âœ… å·²å®ç° | ç”¨æˆ·ç®¡ç†ç»„ä»¶ |
| Token ç»Ÿè®¡ | `src/components/token-stats.tsx` | âœ… å·²å®ç° | Token ç»Ÿè®¡ç»„ä»¶ |
| æ–‡æ¡£ä¸Šä¼  | `src/components/document-upload.tsx` | âœ… å·²å®ç° | æ–‡æ¡£ä¸Šä¼ ç»„ä»¶ |
| å”®åä»»åŠ¡ç›‘æ§ | `src/components/after-sales-task-monitor.tsx` | âœ… å·²å®ç° | å”®åä»»åŠ¡ç›‘æ§ç»„ä»¶ |
| çŸ¥è¯†åº“é¡µé¢ | `src/components/knowledge-base-page.tsx` | âœ… å·²å®ç° | çŸ¥è¯†åº“é¡µé¢ç»„ä»¶ |
| æ–°ä»ªè¡¨ç›˜ Tab | `src/components/dashboard/NewDashboardTab.tsx` | âœ… å·²å®ç° | æ–°ä»ªè¡¨ç›˜ Tab ç»„ä»¶ |
| æ„å›¾é…ç½®å¯¹è¯æ¡† | `src/components/ai/IntentConfigDialog.tsx` | âœ… å·²å®ç° | æ„å›¾é…ç½®å¯¹è¯æ¡†ç»„ä»¶ |
| å¢å¼ºå‘Šè­¦ç®¡ç† | `src/components/enhanced-alert-management.tsx` | âœ… å·²å®ç° | å¢å¼ºå‘Šè­¦ç®¡ç†ç»„ä»¶ |
| å‘Šè­¦é…ç½® Tab | `src/components/alert-config-tab.tsx` | âœ… å·²å®ç° | å‘Šè­¦é…ç½® Tab ç»„ä»¶ |
| å‘Šè­¦è§„åˆ™å¯¹è¯æ¡† | `src/components/monitoring/AlertRulesDialog.tsx` | âœ… å·²å®ç° | å‘Šè­¦è§„åˆ™å¯¹è¯æ¡†ç»„ä»¶ |
| æµç¨‹ç”»å¸ƒ | `src/app/flow-engine/components/FlowCanvas.tsx` | âœ… å·²å®ç° | æµç¨‹ç”»å¸ƒç»„ä»¶ |
| èŠ‚ç‚¹é…ç½®é¢æ¿ | `src/app/flow-engine/components/NodeConfigPanel.tsx` | âœ… å·²å®ç° | èŠ‚ç‚¹é…ç½®é¢æ¿ç»„ä»¶ |
| æµç¨‹èŠ‚ç‚¹åº“ | `src/app/flow-engine/components/FlowNodeLibrary.tsx` | âœ… å·²å®ç° | æµç¨‹èŠ‚ç‚¹åº“ç»„ä»¶ |
| æµç¨‹æµ‹è¯•é¢æ¿ | `src/app/flow-engine/components/FlowTestPanel.tsx` | âœ… å·²å®ç° | æµç¨‹æµ‹è¯•é¢æ¿ç»„ä»¶ |
| æµç¨‹ JSON ç¼–è¾‘å™¨ | `src/app/flow-engine/components/FlowJsonEditor.tsx` | âœ… å·²å®ç° | æµç¨‹ JSON ç¼–è¾‘å™¨ç»„ä»¶ |
| ä¸Šä¸‹æ–‡å¢å¼ºé…ç½® | `src/app/flow-engine/components/ContextEnhancerConfig.tsx` | âœ… å·²å®ç° | ä¸Šä¸‹æ–‡å¢å¼ºé…ç½®ç»„ä»¶ |
| å†³ç­–é…ç½® | `src/app/flow-engine/components/DecisionConfig.tsx` | âœ… å·²å®ç° | å†³ç­–é…ç½®ç»„ä»¶ |
| è‡ªå®šä¹‰èŠ‚ç‚¹ | `src/app/flow-engine/components/CustomNode.tsx` | âœ… å·²å®ç° | è‡ªå®šä¹‰èŠ‚ç‚¹ç»„ä»¶ |
| ç›‘æ§èŠ‚ç‚¹ | `src/app/flow-engine/components/nodes/MonitorNode.tsx` | âœ… å·²å®ç° | ç›‘æ§èŠ‚ç‚¹ç»„ä»¶ |
| é£é™©å¤„ç†èŠ‚ç‚¹ | `src/app/flow-engine/components/nodes/RiskHandlerNode.tsx` | âœ… å·²å®ç° | é£é™©å¤„ç†èŠ‚ç‚¹ç»„ä»¶ |
| ä¸Šä¸‹æ–‡å¯è§†åŒ– | `src/app/flow-engine/components/context-visualizer.tsx` | âœ… å·²å®ç° | ä¸Šä¸‹æ–‡å¯è§†åŒ–ç»„ä»¶ |
| ä¸Šä¸‹æ–‡è°ƒè¯•é¢æ¿ | `src/app/flow-engine/components/context-debug-panel.tsx` | âœ… å·²å®ç° | ä¸Šä¸‹æ–‡è°ƒè¯•é¢æ¿ç»„ä»¶ |
| æ‰§è¡Œç›‘æ§ | `src/app/flow-engine/components/execution-monitor.tsx` | âœ… å·²å®ç° | æ‰§è¡Œç›‘æ§ç»„ä»¶ |
| æµç¨‹ç‰ˆæœ¬ç®¡ç† | `src/components/flow-engine/version-management.tsx` | âœ… å·²å®ç° | æµç¨‹ç‰ˆæœ¬ç®¡ç†ç»„ä»¶ |

### 4.3 å‰ç«¯åŠŸèƒ½å®ç°æ€»ç»“

| åŠŸèƒ½æ¨¡å— | å®ç°çŠ¶å†µ | å®Œæˆåº¦ | è¯´æ˜ |
|---------|---------|--------|------|
| å›è°ƒå¯¹æ¥ä¸­å¿ƒ | âœ… å·²å®ç° | 100% | å®Œå…¨å®ç° |
| æ„å›¾è¯†åˆ«ç³»ç»Ÿ | âš ï¸ éƒ¨åˆ†å®ç° | 80% | UI å·²å®ç°ï¼Œè®­ç»ƒåŠŸèƒ½éœ€å®Œå–„ |
| è‡ªåŠ¨å›å¤ç­–ç•¥ | âš ï¸ éƒ¨åˆ†å®ç° | 85% | å¤§éƒ¨åˆ†åŠŸèƒ½å·²å®ç°ï¼Œæ¨¡å‹åˆ‡æ¢éœ€å®Œå–„ |
| ç›‘æ§é¢„è­¦ç³»ç»Ÿ | âœ… å·²å®ç° | 95% | å®Œå…¨å®ç°ï¼Œå°‘æ•°ç»†èŠ‚éœ€å®Œå–„ |
| ä¼šè¯ç®¡ç† | âš ï¸ éƒ¨åˆ†å®ç° | 75% | UI å·²å®ç°ï¼Œäººå·¥æ¥ç®¡é€»è¾‘éœ€å®Œå–„ |
| æ¶ˆæ¯ä¸­å¿ƒ | âœ… å·²å®ç° | 90% | å¤§éƒ¨åˆ†åŠŸèƒ½å·²å®ç° |
| æœºå™¨äººç®¡ç† | âœ… å·²å®ç° | 95% | å®Œå…¨å®ç°ï¼Œå°‘æ•°ç»†èŠ‚éœ€å®Œå–„ |
| ååŒå†³ç­– | âš ï¸ éƒ¨åˆ†å®ç° | 70% | UI å·²å®ç°ï¼Œå†³ç­–é€»è¾‘éœ€å®Œå–„ |
| æµç¨‹å¼•æ“ | âš ï¸ éƒ¨åˆ†å®ç° | 85% | UI å·²å®ç°ï¼Œåç«¯é€»è¾‘éœ€å®Œå–„ |
| é£é™©ç®¡ç† | âš ï¸ éƒ¨åˆ†å®ç° | 60% | åç«¯å·²å®ç°ï¼Œå‰ç«¯ UI éœ€å®Œå–„ |
| çŸ¥è¯†åº“ | âš ï¸ éƒ¨åˆ†å®ç° | 70% | UI å·²å®ç°ï¼Œå‘é‡åŒ–å’Œæœç´¢éœ€å®Œå–„ |
| ç”¨æˆ·ç®¡ç† | âœ… å·²å®ç° | 90% | å®Œå…¨å®ç°ï¼Œå°‘æ•°ç»†èŠ‚éœ€å®Œå–„ |
| ç³»ç»Ÿæ—¥å¿— | âœ… å·²å®ç° | 95% | å®Œå…¨å®ç° |
| æ•°æ®æŠ¥å‘Š | âš ï¸ éƒ¨åˆ†å®ç° | 50% | åç«¯å·²å®ç°ï¼Œå‰ç«¯ UI éœ€å®Œå–„ |
| é€šçŸ¥ç³»ç»Ÿ | âœ… å·²å®ç° | 90% | å®Œå…¨å®ç° |

---

## äº”ã€åç«¯å®ç°çŠ¶å†µ

### 5.1 API è·¯ç”±æ¸…å•

| API è·¯ç”± | æ–‡ä»¶ | å®ç°çŠ¶å†µ | è¯´æ˜ |
|---------|------|---------|------|
| Admin API | `server/routes/admin.api.js` | âœ… å·²å®ç° | ç®¡ç†åå° API |
| AI IO API | `server/routes/ai-io.api.js` | âœ… å·²å®ç° | AI IO API |
| AI Module API | `server/routes/ai-module.api.js` | âœ… å·²å®ç° | AI æ¨¡å— API |
| Alert Config API | `server/routes/alert-config.api.js` | âœ… å·²å®ç° | å‘Šè­¦é…ç½® API |
| Alert Enhanced API | `server/routes/alert-enhanced.api.js` | âœ… å·²å®ç° | å¢å¼ºå‘Šè­¦ API |
| API Key API | `server/routes/apikey.api.js` | âœ… å·²å®ç° | API Key API |
| Auth Complete API | `server/routes/auth-complete.api.js` | âœ… å·²å®ç° | è®¤è¯å®Œæˆ API |
| Avatar API | `server/routes/avatar.api.js` | âœ… å·²å®ç° | å¤´åƒ API |
| Collab API | `server/routes/collab.api.js` | âœ… å·²å®ç° | ååŒ API |
| Debug API | `server/routes/debug.api.js` | âœ… å·²å®ç° | è°ƒè¯• API |
| Document API | `server/routes/document.api.js` | âœ… å·²å®ç° | æ–‡æ¡£ API |
| Execution Tracker API | `server/routes/execution-tracker.api.js` | âœ… å·²å®ç° | æ‰§è¡Œè·Ÿè¸ª API |
| Flow Engine API | `server/routes/flow-engine.api.js` | âœ… å·²å®ç° | æµç¨‹å¼•æ“ API |
| Intent Config API | `server/routes/intent-config.api.js` | âœ… å·²å®ç° | æ„å›¾é…ç½® API |
| Monitoring API | `server/routes/monitoring.api.js` | âœ… å·²å®ç° | ç›‘æ§ API |
| Notification API | `server/routes/notification.api.js` | âœ… å·²å®ç° | é€šçŸ¥ API |
| Operation Logs API | `server/routes/operation-logs.api.js` | âœ… å·²å®ç° | æ“ä½œæ—¥å¿— API |
| Permission API | `server/routes/permission.api.js` | âœ… å·²å®ç° | æƒé™ API |
| Prompt Init API | `server/routes/prompt-init.api.js` | âœ… å·²å®ç° | Prompt åˆå§‹åŒ– API |
| Prompt API | `server/routes/prompt.api.js` | âœ… å·²å®ç° | Prompt API |
| QA API | `server/routes/qa.api.js` | âœ… å·²å®ç° | QA API |
| Risk API | `server/routes/risk.api.js` | âœ… å·²å®ç° | é£é™© API |
| Robot Command API | `server/routes/robot-command.api.js` | âœ… å·²å®ç° | æœºå™¨äººæŒ‡ä»¤ API |
| Robot Groups API | `server/routes/robot-groups.api.js` | âœ… å·²å®ç° | æœºå™¨äººåˆ†ç»„ API |
| Robot Monitoring API | `server/routes/robot-monitoring.api.js` | âœ… å·²å®ç° | æœºå™¨äººç›‘æ§ API |
| Robot Protected API | `server/routes/robot-protected.api.js` | âœ… å·²å®ç° | æœºå™¨äººä¿æŠ¤ API |
| Robot Roles API | `server/routes/robot-roles.api.js` | âœ… å·²å®ç° | æœºå™¨äººè§’è‰² API |
| System Logs API | `server/routes/system-logs.api.js` | âœ… å·²å®ç° | ç³»ç»Ÿæ—¥å¿— API |
| WorkTool Conversion Robot API | `server/routes/worktool-conversion-robot.api.js` | âœ… å·²å®ç° | WorkTool è½¬æ¢æœºå™¨äºº API |
| WorkTool Robot API | `server/routes/worktool-robot.api.js` | âœ… å·²å®ç° | WorkTool æœºå™¨äºº API |
| WorkTool Send OSS Image API | `server/routes/worktool-send-oss-image.api.js` | âœ… å·²å®ç° | WorkTool å‘é€ OSS å›¾ç‰‡ API |
| WorkTool Callback | `server/routes/worktool.callback.js` | âœ… å·²å®ç° | WorkTool å›è°ƒ |

### 5.2 æœåŠ¡æ¸…å•

| æœåŠ¡ | æ–‡ä»¶ | å®ç°çŠ¶å†µ | è¯´æ˜ |
|------|------|---------|------|
| AI Core Service | `server/services/ai-core.service.js` | âœ… å·²å®ç° | AI æ ¸å¿ƒæœåŠ¡ |
| AI IO Log Service | `server/services/ai-io-log.service.js` | âœ… å·²å®ç° | AI IO æ—¥å¿—æœåŠ¡ |
| AI Service | `server/services/ai.service.js` | âœ… å·²å®ç° | AI æœåŠ¡ |
| AIBudgetManager | `server/services/ai/AIBudgetManager.js` | âœ… å·²å®ç° | AI é¢„ç®—ç®¡ç†å™¨ |
| AIRetryRateLimiter | `server/services/ai/AIRetryRateLimiter.js` | âœ… å·²å®ç° | AI é‡è¯•é™æµå™¨ |
| AIServiceFactory | `server/services/ai/AIServiceFactory.js` | âœ… å·²å®ç° | AI æœåŠ¡å·¥å‚ |
| AIUsageTracker | `server/services/ai/AIUsageTracker.js` | âœ… å·²å®ç° | AI ä½¿ç”¨è¿½è¸ªå™¨ |
| DeepSeekService | `server/services/ai/DeepSeekService.js` | âœ… å·²å®ç° | DeepSeek æœåŠ¡ |
| DoubaoService | `server/services/ai/DoubaoService.js` | âœ… å·²å®ç° | è±†åŒ…æœåŠ¡ |
| KimiService | `server/services/ai/KimiService.js` | âœ… å·²å®ç° | Kimi æœåŠ¡ |
| Alert Analytics Service | `server/services/alert-analytics.service.js` | âœ… å·²å®ç° | å‘Šè­¦åˆ†ææœåŠ¡ |
| Alert Batch Service | `server/services/alert-batch.service.js` | âœ… å·²å®ç° | å‘Šè­¦æ‰¹å¤„ç†æœåŠ¡ |
| Alert Config Service | `server/services/alert-config.service.js` | âœ… å·²å®ç° | å‘Šè­¦é…ç½®æœåŠ¡ |
| Alert Dedup Service | `server/services/alert-dedup.service.js` | âœ… å·²å®ç° | å‘Šè­¦å»é‡æœåŠ¡ |
| Alert Escalation Service | `server/services/alert-escalation.service.js` | âœ… å·²å®ç° | å‘Šè­¦å‡çº§æœåŠ¡ |
| Alert Group Service | `server/services/alert-group.service.js` | âœ… å·²å®ç° | å‘Šè­¦åˆ†ç»„æœåŠ¡ |
| Alert Notification Service | `server/services/alert-notification.service.js` | âœ… å·²å®ç° | å‘Šè­¦é€šçŸ¥æœåŠ¡ |
| Alert Rate Limiter Service | `server/services/alert-rate-limiter.service.js` | âœ… å·²å®ç° | å‘Šè­¦é™æµæœåŠ¡ |
| Alert Rule Engine Service | `server/services/alert-rule-engine.service.js` | âœ… å·²å®ç° | å‘Šè­¦è§„åˆ™å¼•æ“æœåŠ¡ |
| Alert Trigger Enhanced Service | `server/services/alert-trigger-enhanced.service.js` | âœ… å·²å®ç° | å¢å¼ºå‘Šè­¦è§¦å‘æœåŠ¡ |
| Alert Trigger Service | `server/services/alert-trigger.service.js` | âœ… å·²å®ç° | å‘Šè­¦è§¦å‘æœåŠ¡ |
| Alert Service | `server/services/alert.service.js` | âœ… å·²å®ç° | å‘Šè­¦æœåŠ¡ |
| Audit Log Service | `server/services/audit-log.service.js` | âœ… å·²å®ç° | å®¡è®¡æ—¥å¿—æœåŠ¡ |
| Cache Warmup Service | `server/services/cache-warmup.service.js` | âœ… å·²å®ç° | ç¼“å­˜é¢„çƒ­æœåŠ¡ |
| Collab Decision Service | `server/services/collab/collab-decision.service.js` | âœ… å·²å®ç° | ååŒå†³ç­–æœåŠ¡ |
| Collaboration Service | `server/services/collaboration.service.js` | âœ… å·²å®ç° | ååŒæœåŠ¡ |
| Decision Service | `server/services/decision.service.js` | âœ… å·²å®ç° | å†³ç­–æœåŠ¡ |
| Document Service | `server/services/document.service.js` | âœ… å·²å®ç° | æ–‡æ¡£æœåŠ¡ |
| Execution Tracker Service | `server/services/execution-tracker.service.js` | âœ… å·²å®ç° | æ‰§è¡Œè·Ÿè¸ªæœåŠ¡ |
| Flow Engine Service | `server/services/flow-engine.service.js` | âœ… å·²å®ç° | æµç¨‹å¼•æ“æœåŠ¡ |
| Flow Selector Service | `server/services/flow-selector.service.js` | âœ… å·²å®ç° | æµç¨‹é€‰æ‹©æœåŠ¡ |
| Human Handover Service | `server/services/human-handover.service.js` | âœ… å·²å®ç° | äººå·¥æ¥ç®¡æœåŠ¡ |
| Instruction Service | `server/services/instruction.service.js` | âœ… å·²å®ç° | æŒ‡ä»¤æœåŠ¡ |
| Message Cache Service | `server/services/message-cache.service.js` | âœ… å·²å®ç° | æ¶ˆæ¯ç¼“å­˜æœåŠ¡ |
| Message Processing Service | `server/services/message-processing.service.js` | âœ… å·²å®ç° | æ¶ˆæ¯å¤„ç†æœåŠ¡ |
| Message Save Diagnostics | `server/services/message-save-diagnostics.js` | âœ… å·²å®ç° | æ¶ˆæ¯ä¿å­˜è¯Šæ–­ |
| Monitor Service | `server/services/monitor.service.js` | âœ… å·²å®ç° | ç›‘æ§æœåŠ¡ |
| Notification Service | `server/services/notification.service.js` | âœ… å·²å®ç° | é€šçŸ¥æœåŠ¡ |
| Operation Log Service | `server/services/operation-log.service.js` | âœ… å·²å®ç° | æ“ä½œæ—¥å¿—æœåŠ¡ |
| OSS Service | `server/services/oss.service.js` | âœ… å·²å®ç° | OSS æœåŠ¡ |
| Performance Monitor Service | `server/services/performance/performance-monitor.service.js` | âœ… å·²å®ç° | æ€§èƒ½ç›‘æ§æœåŠ¡ |
| Permission Config Service | `server/services/permission-config.service.js` | âœ… å·²å®ç° | æƒé™é…ç½®æœåŠ¡ |
| Permission Service | `server/services/permission.service.js` | âœ… å·²å®ç° | æƒé™æœåŠ¡ |
| Prompt Service | `server/services/prompt.service.js` | âœ… å·²å®ç° | Prompt æœåŠ¡ |
| QA Service | `server/services/qa.service.js` | âœ… å·²å®ç° | QA æœåŠ¡ |
| Report Service | `server/services/report.service.js` | âœ… å·²å®ç° | æŠ¥å‘ŠæœåŠ¡ |
| Risk Handler Service | `server/services/risk/risk-handler.service.js` | âœ… å·²å®ç° | é£é™©å¤„ç†æœåŠ¡ |
| Risk Monitor Service | `server/services/risk/risk-monitor.service.js` | âœ… å·²å®ç° | é£é™©ç›‘æ§æœåŠ¡ |
| Notify Human Service | `server/services/risk/notify-human.service.js` | âœ… å·²å®ç° | é€šçŸ¥äººå·¥æœåŠ¡ |
| Staff Command Service | `server/services/staff/staff-command.service.js` | âœ… å·²å®ç° | å·¥ä½œäººå‘˜æŒ‡ä»¤æœåŠ¡ |
| Staff Identifier Service | `server/services/staff/staff-identifier.service.js` | âœ… å·²å®ç° | å·¥ä½œäººå‘˜è¯†åˆ«æœåŠ¡ |
| Staff Tracker Service | `server/services/staff/staff-tracker.service.js` | âœ… å·²å®ç° | å·¥ä½œäººå‘˜è¿½è¸ªæœåŠ¡ |
| System Logger Service | `server/services/system-logger.service.js` | âœ… å·²å®ç° | ç³»ç»Ÿæ—¥å¿—æœåŠ¡ |
| User Cache Service | `server/services/user-cache.service.js` | âœ… å·²å®ç° | ç”¨æˆ·ç¼“å­˜æœåŠ¡ |
| WorkTool API Service | `server/services/worktool-api.service.js` | âœ… å·²å®ç° | WorkTool API æœåŠ¡ |
| WorkTool Service | `server/services/worktool.service.js` | âœ… å·²å®ç° | WorkTool æœåŠ¡ |

### 5.3 åç«¯åŠŸèƒ½å®ç°æ€»ç»“

| åŠŸèƒ½æ¨¡å— | å®ç°çŠ¶å†µ | å®Œæˆåº¦ | è¯´æ˜ |
|---------|---------|--------|------|
| å›è°ƒå¯¹æ¥ä¸­å¿ƒ | âœ… å·²å®ç° | 100% | å®Œå…¨å®ç° |
| æ„å›¾è¯†åˆ«ç³»ç»Ÿ | âœ… å·²å®ç° | 90% | æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼Œè®­ç»ƒåŠŸèƒ½éœ€å®Œå–„ |
| è‡ªåŠ¨å›å¤ç­–ç•¥ | âœ… å·²å®ç° | 90% | æ ¸å¿ƒåŠŸèƒ½å·²å®ç° |
| ç›‘æ§é¢„è­¦ç³»ç»Ÿ | âœ… å·²å®ç° | 95% | å®Œå…¨å®ç° |
| ä¼šè¯ç®¡ç† | âœ… å·²å®ç° | 85% | æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼Œäººå·¥æ¥ç®¡é€»è¾‘éœ€å®Œå–„ |
| æ¶ˆæ¯ä¸­å¿ƒ | âœ… å·²å®ç° | 95% | å®Œå…¨å®ç° |
| æœºå™¨äººç®¡ç† | âœ… å·²å®ç° | 95% | å®Œå…¨å®ç° |
| ååŒå†³ç­– | âš ï¸ éƒ¨åˆ†å®ç° | 75% | æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼Œå†³ç­–é€»è¾‘éœ€å®Œå–„ |
| æµç¨‹å¼•æ“ | âš ï¸ éƒ¨åˆ†å®ç° | 80% | æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼Œéƒ¨åˆ†é€»è¾‘éœ€å®Œå–„ |
| é£é™©ç®¡ç† | âœ… å·²å®ç° | 85% | æ ¸å¿ƒåŠŸèƒ½å·²å®ç° |
| çŸ¥è¯†åº“ | âš ï¸ éƒ¨åˆ†å®ç° | 65% | æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼Œå‘é‡åŒ–å’Œæœç´¢éœ€å®Œå–„ |
| ç”¨æˆ·ç®¡ç† | âœ… å·²å®ç° | 95% | å®Œå…¨å®ç° |
| ç³»ç»Ÿæ—¥å¿— | âœ… å·²å®ç° | 95% | å®Œå…¨å®ç° |
| æ•°æ®æŠ¥å‘Š | âœ… å·²å®ç° | 85% | æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼Œå¯¼å‡ºåŠŸèƒ½éœ€å®Œå–„ |
| é€šçŸ¥ç³»ç»Ÿ | âœ… å·²å®ç° | 90% | å®Œå…¨å®ç° |

---

## å…­ã€ç³»ç»Ÿå½“å‰çŠ¶å†µ

### 6.1 æ•´ä½“çŠ¶å†µ

**ç³»ç»ŸçŠ¶æ€**: ğŸŸ¢ **è¿è¡Œè‰¯å¥½**

- âœ… åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œï¼ˆç«¯å£ 5001ï¼‰
- âœ… å‰ç«¯æœåŠ¡æ­£å¸¸è¿è¡Œï¼ˆç«¯å£ 5000ï¼‰
- âœ… æ•°æ®åº“è¿æ¥æ­£å¸¸
- âœ… Redis ç¼“å­˜æœåŠ¡æ­£å¸¸
- âœ… æ ¸å¿ƒåŠŸèƒ½å·²å®ç°å¹¶å¯ç”¨

### 6.2 æ•°æ®çŠ¶å†µ

| æ•°æ®ç±»å‹ | æ•°é‡ | è¯´æ˜ |
|---------|------|------|
| æ´»è·ƒä¼šè¯ | 24 ä¸ª | åŒ…å«æµ‹è¯•æ•°æ®å’ŒçœŸå®æ•°æ® |
| æ¶ˆæ¯è®°å½• | å¤šæ¡ | åŒ…å«ç”¨æˆ·æ¶ˆæ¯ã€AI å›å¤ã€äººå·¥æ¶ˆæ¯ |
| æœºå™¨äºº | 4 ä¸ª | éƒ¨åˆ†åœ¨çº¿ï¼Œéƒ¨åˆ†ç¦»çº¿ |
| æµ‹è¯•æ•°æ® | å·²åˆ›å»º | ç”¨äºå‰ç«¯éªŒè¯ |

### 6.3 åŠŸèƒ½å¯ç”¨æ€§

| åŠŸèƒ½æ¨¡å— | å¯ç”¨æ€§ | è¯´æ˜ |
|---------|--------|------|
| å›è°ƒå¯¹æ¥ | âœ… å¯ç”¨ | å·²å¯¹æ¥ä¼ä¸šå¾®ä¿¡ |
| æ„å›¾è¯†åˆ« | âœ… å¯ç”¨ | AI è‡ªåŠ¨è¯†åˆ« |
| è‡ªåŠ¨å›å¤ | âœ… å¯ç”¨ | å¤šç§å›å¤ç­–ç•¥ |
| ç›‘æ§é¢„è­¦ | âœ… å¯ç”¨ | å®æ—¶ç›‘æ§ |
| ä¼šè¯ç®¡ç† | âœ… å¯ç”¨ | ä¼šè¯åˆ—è¡¨ã€è¯¦æƒ…ã€æœç´¢ |
| æ¶ˆæ¯ä¸­å¿ƒ | âœ… å¯ç”¨ | æ¶ˆæ¯è®°å½•ã€ç»Ÿè®¡ |
| æœºå™¨äººç®¡ç† | âœ… å¯ç”¨ | æœºå™¨äººåˆ—è¡¨ã€é…ç½® |
| ååŒå†³ç­– | âš ï¸ éƒ¨åˆ†å¯ç”¨ | åŸºç¡€åŠŸèƒ½å¯ç”¨ |
| æµç¨‹å¼•æ“ | âš ï¸ éƒ¨åˆ†å¯ç”¨ | åŸºç¡€åŠŸèƒ½å¯ç”¨ |
| é£é™©ç®¡ç† | âœ… å¯ç”¨ | é£é™©è¯†åˆ«å’Œå¤„ç† |
| çŸ¥è¯†åº“ | âš ï¸ éƒ¨åˆ†å¯ç”¨ | åŸºç¡€åŠŸèƒ½å¯ç”¨ |
| ç”¨æˆ·ç®¡ç† | âœ… å¯ç”¨ | ç”¨æˆ·ç™»å½•ã€æƒé™ |
| ç³»ç»Ÿæ—¥å¿— | âœ… å¯ç”¨ | æ—¥å¿—è®°å½•ã€æŸ¥è¯¢ |
| æ•°æ®æŠ¥å‘Š | âœ… å¯ç”¨ | æŠ¥å‘Šç”Ÿæˆ |
| é€šçŸ¥ç³»ç»Ÿ | âœ… å¯ç”¨ | é€šçŸ¥é…ç½®ã€å‘é€ |

### 6.4 æœ€è¿‘ä¿®å¤çš„é—®é¢˜

1. **ä¼šè¯ç®¡ç†æ•°æ®ç»“æ„ä¸åŒ¹é…é—®é¢˜** âœ… å·²ä¿®å¤
   - é—®é¢˜ï¼šåç«¯ API è¿”å›å­—æ®µåä¸å‰ç«¯æ¥å£ä¸åŒ¹é…
   - è§£å†³ï¼šå¢å¼º SQL æŸ¥è¯¢ï¼Œä¿®æ­£å­—æ®µåè½¬æ¢é€»è¾‘
   - çŠ¶æ€ï¼šå·²éªŒè¯ï¼ŒAPI è¿”å›æ­£ç¡®æ•°æ®æ ¼å¼

2. **æµ‹è¯•æ•°æ®ç¼ºå¤±é—®é¢˜** âœ… å·²ä¿®å¤
   - é—®é¢˜ï¼šå‰ç«¯æ²¡æœ‰æ•°æ®æ— æ³•éªŒè¯
   - è§£å†³ï¼šåˆ›å»ºæµ‹è¯•æ•°æ®è„šæœ¬ï¼Œç”Ÿæˆæµ‹è¯•ä¼šè¯å’Œæ¶ˆæ¯
   - çŠ¶æ€ï¼šå·²åˆ›å»º 24 ä¸ªæ´»è·ƒä¼šè¯ï¼Œå‰ç«¯å¯æ­£å¸¸æ˜¾ç¤º

### 6.5 å·²çŸ¥é—®é¢˜å’Œå¾…ä¼˜åŒ–é¡¹

| é—®é¢˜ | ä¼˜å…ˆçº§ | çŠ¶æ€ | è¯´æ˜ |
|------|--------|------|------|
| ä¼šè¯äººå·¥æ¥ç®¡åŠŸèƒ½ | ä¸­ | å¾…ä¼˜åŒ– | UI å·²å®ç°ï¼Œåç«¯é€»è¾‘éœ€å®Œå–„ |
| å®æ—¶æ¶ˆæ¯æ¨é€ | é«˜ | å¾…ä¼˜åŒ– | WebSocket åŠŸèƒ½æœªå®Œå…¨å®ç° |
| æ„å›¾è®­ç»ƒåŠŸèƒ½ | ä¸­ | å¾…ä¼˜åŒ– | è®­ç»ƒæ•°æ®æ”¶é›†å’Œæ¨¡å‹ä¼˜åŒ–éœ€å®Œå–„ |
| AI æ¨¡å‹åˆ‡æ¢ | ä½ | å¾…ä¼˜åŒ– | å¤šæ¨¡å‹åˆ‡æ¢åŠŸèƒ½éœ€å®Œå–„ |
| çŸ¥è¯†åº“å‘é‡åŒ– | é«˜ | å¾…ä¼˜åŒ– | æ–‡æ¡£å‘é‡å’Œè¯­ä¹‰æœç´¢éœ€å®Œå–„ |
| æµç¨‹å¼•æ“åç«¯ | é«˜ | å¾…ä¼˜åŒ– | æµç¨‹æ‰§è¡Œé€»è¾‘éœ€å®Œå–„ |
| ååŒå†³ç­–é€»è¾‘ | ä¸­ | å¾…ä¼˜åŒ– | å¤šæœºå™¨äººååŒé€»è¾‘éœ€å®Œå–„ |
| æ•°æ®æŠ¥å‘Šå¯¼å‡º | ä½ | å¾…ä¼˜åŒ– | Excel å¯¼å‡ºå’Œè…¾è®¯æ–‡æ¡£åŒæ­¥éœ€å®Œå–„ |

### 6.6 æ€§èƒ½çŠ¶å†µ

| æŒ‡æ ‡ | å½“å‰å€¼ | è¯´æ˜ |
|------|--------|------|
| åç«¯å“åº”æ—¶é—´ | < 100ms | API å“åº”æ—¶é—´ |
| å‰ç«¯åŠ è½½æ—¶é—´ | < 2s | é¦–å±åŠ è½½æ—¶é—´ |
| æ•°æ®åº“æŸ¥è¯¢ | < 50ms | å¸¸è§„æŸ¥è¯¢æ—¶é—´ |
| ç¼“å­˜å‘½ä¸­ç‡ | > 80% | Redis ç¼“å­˜å‘½ä¸­ç‡ |
| AI å“åº”æ—¶é—´ | < 3s | AI æœåŠ¡å“åº”æ—¶é—´ |

---

## ä¸ƒã€æŠ€æœ¯æ ˆ

### 7.1 å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Next.js | 16.1.1 | React æ¡†æ¶ |
| React | 19.2.3 | UI æ¡†æ¶ |
| TypeScript | 5.x | ç±»å‹æ£€æŸ¥ |
| Tailwind CSS | 4.x | æ ·å¼æ¡†æ¶ |
| shadcn/ui | latest | UI ç»„ä»¶åº“ |
| React Flow | 11.11.4 | æµç¨‹å›¾ç»„ä»¶ |
| Recharts | 2.15.4 | å›¾è¡¨ç»„ä»¶ |
| Axios | 1.13.4 | HTTP å®¢æˆ·ç«¯ |

### 7.2 åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Node.js | 18+ | è¿è¡Œç¯å¢ƒ |
| Fastify | 5.7.2 | Web æ¡†æ¶ |
| Drizzle ORM | 0.45.1 | æ•°æ®åº“ ORM |
| PostgreSQL | - | æ•°æ®åº“ |
| Redis | - | ç¼“å­˜æ•°æ®åº“ |
| JWT | 9.0.3 | è®¤è¯ |
| bcrypt | 6.0.0 | å¯†ç åŠ å¯† |
| pg | 8.16.3 | PostgreSQL å®¢æˆ·ç«¯ |
| ioredis | 5.9.2 | Redis å®¢æˆ·ç«¯ |

### 7.3 AI æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| è±†åŒ… | - | AI æ¨¡å‹ |
| DeepSeek | - | AI æ¨¡å‹ |
| Kimi | - | AI æ¨¡å‹ |
| OpenAI | 6.17.0 | AI æœåŠ¡ï¼ˆå¤‡ç”¨ï¼‰ |

### 7.4 å·¥å…·å’Œåº“

| å·¥å…· | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| pnpm | 9.0.0 | åŒ…ç®¡ç†å™¨ |
| ESLint | 9.x | ä»£ç æ£€æŸ¥ |
| Playwright | 1.58.2 | æµ‹è¯•æ¡†æ¶ |
| Coze Coding SDK | 0.7.3 | é›†æˆ SDK |

---

## å…«ã€éƒ¨ç½²æ¶æ„

### 8.1 å¼€å‘ç¯å¢ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å¼€å‘ç¯å¢ƒæ¶æ„                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æœ¬åœ°æœºå™¨
â”œâ”€â”€ å‰ç«¯æœåŠ¡ (Next.js Dev Server)
â”‚   â””â”€â”€ http://localhost:5000
â”œâ”€â”€ åç«¯æœåŠ¡ (Node.js)
â”‚   â””â”€â”€ http://localhost:5001
â”œâ”€â”€ æ•°æ®åº“ (PostgreSQL)
â”‚   â””â”€â”€ localhost:5432
â””â”€â”€ ç¼“å­˜ (Redis)
    â””â”€â”€ localhost:6379
```

### 8.2 ç”Ÿäº§ç¯å¢ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”Ÿäº§ç¯å¢ƒæ¶æ„                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æœåŠ¡å™¨
â”œâ”€â”€ å‰ç«¯æœåŠ¡ (Next.js Production)
â”‚   â””â”€â”€ http://<domain>:5000
â”œâ”€â”€ åç«¯æœåŠ¡ (Node.js PM2)
â”‚   â””â”€â”€ http://<domain>:5001
â”œâ”€â”€ Nginx åå‘ä»£ç†
â”‚   â”œâ”€â”€ /api -> http://localhost:5001
â”‚   â””â”€â”€ / -> http://localhost:5000
â”œâ”€â”€ æ•°æ®åº“ (PostgreSQL)
â”‚   â””â”€â”€ localhost:5432
â””â”€â”€ ç¼“å­˜ (Redis)
    â””â”€â”€ localhost:6379
```

### 8.3 éƒ¨ç½²è„šæœ¬

| è„šæœ¬ | è·¯å¾„ | ç”¨é€” |
|------|------|------|
| å¼€å‘è„šæœ¬ | `scripts/dev.sh` | å¯åŠ¨å¼€å‘ç¯å¢ƒ |
| æ„å»ºè„šæœ¬ | `scripts/build.sh` | æ„å»ºç”Ÿäº§ç‰ˆæœ¬ |
| å¯åŠ¨è„šæœ¬ | `scripts/start.sh` | å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ |

---

## ä¹ã€å¾…ä¼˜åŒ–é¡¹

### 9.1 é«˜ä¼˜å…ˆçº§

| ä¼˜åŒ–é¡¹ | è¯´æ˜ | é¢„ä¼°å·¥ä½œé‡ |
|--------|------|-----------|
| å®æ—¶æ¶ˆæ¯æ¨é€ | å®Œå–„ WebSocket åŠŸèƒ½ï¼Œå®ç°å®æ—¶æ¶ˆæ¯æ¨é€ | 3-5 å¤© |
| çŸ¥è¯†åº“å‘é‡åŒ– | å®Œå–„æ–‡æ¡£å‘é‡åŒ–å’Œè¯­ä¹‰æœç´¢åŠŸèƒ½ | 5-7 å¤© |
| æµç¨‹å¼•æ“åç«¯ | å®Œå–„æµç¨‹æ‰§è¡Œé€»è¾‘ï¼Œæ”¯æŒå¤æ‚æµç¨‹ | 7-10 å¤© |
| ä¼šè¯äººå·¥æ¥ç®¡ | å®Œå–„äººå·¥æ¥ç®¡é€»è¾‘ï¼Œæ”¯æŒå¤šäººåä½œ | 3-5 å¤© |

### 9.2 ä¸­ä¼˜å…ˆçº§

| ä¼˜åŒ–é¡¹ | è¯´æ˜ | é¢„ä¼°å·¥ä½œé‡ |
|--------|------|-----------|
| æ„å›¾è®­ç»ƒåŠŸèƒ½ | å®Œå–„è®­ç»ƒæ•°æ®æ”¶é›†å’Œæ¨¡å‹ä¼˜åŒ– | 5-7 å¤© |
| ååŒå†³ç­–é€»è¾‘ | å®Œå–„å¤šæœºå™¨äººååŒå†³ç­–é€»è¾‘ | 5-7 å¤© |
| AI æ¨¡å‹åˆ‡æ¢ | å®Œå–„å¤šæ¨¡å‹åˆ‡æ¢å’Œè´Ÿè½½å‡è¡¡ | 3-5 å¤© |
| æ•°æ®æŠ¥å‘Šå¯¼å‡º | å®Œå–„ Excel å¯¼å‡ºå’Œè…¾è®¯æ–‡æ¡£åŒæ­¥ | 3-5 å¤© |

### 9.3 ä½ä¼˜å…ˆçº§

| ä¼˜åŒ–é¡¹ | è¯´æ˜ | é¢„ä¼°å·¥ä½œé‡ |
|--------|------|-----------|
| æ€§èƒ½ä¼˜åŒ– | ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢å’Œç¼“å­˜ç­–ç•¥ | 3-5 å¤© |
| UI/UX ä¼˜åŒ– | ä¼˜åŒ–å‰ç«¯ç•Œé¢å’Œäº¤äº’ä½“éªŒ | 5-7 å¤© |
| æ–‡æ¡£å®Œå–„ | å®Œå–„ç”¨æˆ·æ–‡æ¡£å’Œ API æ–‡æ¡£ | 3-5 å¤© |
| æµ‹è¯•è¦†ç›– | å¢åŠ å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯• | 5-7 å¤© |

---

## åã€æ€»ç»“

### 10.1 ç³»ç»Ÿä¼˜åŠ¿

1. **åŠŸèƒ½å®Œæ•´** - æ¶µç›–ä¼ä¸šå¾®ä¿¡ç¤¾ç¾¤æ™ºèƒ½æœåŠ¡çš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
2. **æŠ€æœ¯å…ˆè¿›** - é‡‡ç”¨æœ€æ–°çš„æŠ€æœ¯æ ˆå’Œæ¶æ„è®¾è®¡
3. **å¯æ‰©å±•æ€§** - æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤
4. **å¯ç›‘æ§** - å®Œå–„çš„ç›‘æ§å’Œé¢„è­¦ç³»ç»Ÿ
5. **å¯å®¡è®¡** - å®Œæ•´çš„æ“ä½œæ—¥å¿—å’Œå®¡è®¡åŠŸèƒ½

### 10.2 ç³»ç»Ÿä¸è¶³

1. **éƒ¨åˆ†åŠŸèƒ½æœªå®Œå–„** - å®æ—¶æ¶ˆæ¯æ¨é€ã€çŸ¥è¯†åº“å‘é‡åŒ–ç­‰åŠŸèƒ½éœ€å®Œå–„
2. **æ€§èƒ½å¯ä¼˜åŒ–** - éƒ¨åˆ†æŸ¥è¯¢å’Œç¼“å­˜ç­–ç•¥å¯ä¼˜åŒ–
3. **æµ‹è¯•è¦†ç›–ä¸è¶³** - å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•éœ€å¢åŠ 
4. **æ–‡æ¡£éœ€å®Œå–„** - ç”¨æˆ·æ–‡æ¡£å’Œ API æ–‡æ¡£éœ€å®Œå–„

### 10.3 å»ºè®®å‘å±•æ–¹å‘

1. **å®Œå–„æ ¸å¿ƒåŠŸèƒ½** - ä¼˜å…ˆå®Œå–„å®æ—¶æ¶ˆæ¯æ¨é€ã€çŸ¥è¯†åº“å‘é‡åŒ–ç­‰æ ¸å¿ƒåŠŸèƒ½
2. **ä¼˜åŒ–æ€§èƒ½** - ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢ã€ç¼“å­˜ç­–ç•¥ï¼Œæå‡ç³»ç»Ÿæ€§èƒ½
3. **å¢åŠ æµ‹è¯•** - å¢åŠ å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼Œæé«˜ä»£ç è´¨é‡
4. **å®Œå–„æ–‡æ¡£** - å®Œå–„ç”¨æˆ·æ–‡æ¡£å’Œ API æ–‡æ¡£ï¼Œæé«˜å¯ç»´æŠ¤æ€§
5. **æ‹“å±•åŠŸèƒ½** - å¢åŠ æ›´å¤š AI åŠŸèƒ½å’Œè‡ªåŠ¨åŒ–åŠŸèƒ½ï¼Œæå‡æ™ºèƒ½åŒ–æ°´å¹³

---

## é™„å½•

### A. ç›¸å…³æ–‡æ¡£

- [æ¶ˆæ¯ä¸­å¿ƒä¸ä¸Šä¸‹æ–‡ç®¡ç†å®Œæ•´æŒ‡å—](./æ¶ˆæ¯ä¸­å¿ƒä¸ä¸Šä¸‹æ–‡ç®¡ç†å®Œæ•´æŒ‡å—.md)
- [å¤šæœºå™¨äººæ¶æ„è®¾è®¡](../docs/MULTI_ROBOT_ARCHITECTURE.md)
- [API å‚è€ƒæ–‡æ¡£](../docs/API_REFERENCE.md)
- [ä¿¡æ¯ä¸­å¿ƒè®¾è®¡æ–‡æ¡£](../docs/ä¿¡æ¯ä¸­å¿ƒ.MOD)

### B. è”ç³»æ–¹å¼

- **ç»´æŠ¤å›¢é˜Ÿ**: WorkTool AI å›¢é˜Ÿ
- **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
- **åˆ›å»ºæ—¶é—´**: 2026-02-10

---

**æ–‡æ¡£ç»“æŸ**
